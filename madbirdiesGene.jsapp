function madbirdiesUserDefaults(){"use strict";var e={};return e.saveUserDefaults=function(e,t){var n=new Date;n.setTime(n.getTime()+31536e7);var a="; expires="+n.toGMTString();document.cookie=e+"="+t+a+"; path=/;domain=google.com"},e.getUserDefaults=function(e){for(var t=e+"=",n=document.cookie.split(";"),a=0;a<n.length;a++){for(var i=n[a];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return null},e.deleteUserDefaults=function(e){document.cookie=e+"=; path=/;domain=google.com"},e}function madbirdiesInboxDOMElements(){"use strict";var e={};return e.classForNewEmailDivContainer="OPOhoe",e.classForNewEmailFullScreenDivContainer="L2fznf",e.classForGplusBehaviorOutter="nPQzwd",e.classForGplusBehaviorInner="jn",e.classForSidebarElements="oin9Fc",e.classForBtnOpenSearcg="gc",e.classForBtnHideSidebar="aO",e.classForBtnNewMessage="bY",e.classForBtnHelp="oCKk2",e.classForAccountsAvailable=["gb_wb"],e.classForAccountsAvailableEmail=["gb_Db"],e.classForAddAccount=["gb_ee"],e.classForShowHideAttachement="hU",e.classForNewMessagePanel="lK",e.classForBody="n7",e.classForNewWindowMessage="xr",e.classForNewWindowMessageInner="nH",e.classForSubject="iO",e.classForRegularInboxBarAsFrom="kC",e.classBaseForButton="p2 IB",e.classForSidebar="lQ",e.classForTopbar="hn",e.classForTopbarSearch="bB",e.classForEmailBodyReader="b5",e.classForMainContainer="cM bz",e.classForTopbarElement1="gr",e.classForTopbarElement2="c7",e}function madbirdiesFocusFixer(){"use strict";var e={};e.madActiveSelection={},e.targetLabel="Body",e.init=function(){t()};var t=function(){HTMLElement.prototype.focus=function(t){return function(){try{this.getAttribute("aria-label")==e.targetLabel&&a(this)}catch(n){console.log("ERROR modifyFocusUnFocus: "+n)}return t.apply(this,arguments)}}(HTMLElement.prototype.focus),document.addEventListener("mousedown",n,!0),document.addEventListener("keydown",n,!0)},n=function(t){t.target;try{if(document.activeElement.getAttribute("aria-label")==e.targetLabel){var n=window.getSelection();e.madActiveSelection.anchorNode=n.anchorNode,e.madActiveSelection.focusNode=n.focusNode,e.madActiveSelection.start=n.anchorOffset,e.madActiveSelection.end=n.focusOffset,e.madActiveSelection.activeElement=document.activeElement}}catch(a){console.log("ERROR registerCaretPosition:"+a)}},a=function(t){try{if(document.activeElement.getAttribute("aria-label")==e.targetLabel){if(e.madActiveSelection.activeElement!=document.activeElement)return;var n=document.createRange();n.setStart(e.madActiveSelection.anchorNode,e.madActiveSelection.start),n.setEnd(e.madActiveSelection.focusNode,e.madActiveSelection.end);var a=window.getSelection();a.removeAllRanges(),a.addRange(n)}}catch(i){console.log("ERROR elementGotFocus:"+i)}};return e.init(),e}function madbirdiesThemes(){"use strict";var e={};e.userDefaults=new madbirdiesUserDefaults,e.DOMClasses=new madbirdiesInboxDOMElements,e.isIconSidebarMonoChromatic=0,e.themeselection={},e.themeselection.classic=0,e.themeselection.white=1,e.themeselection.dark=2,e.themeselection.darkwhite=3,e.themeselection.darkregular=4,e.themeselection.topdarkbar=5,e.themeselection.custom=6,e.themeselection.lastselection=0,e.themeselection.customcolor="rgb(240,240,250)",e.themestopbar={},e.themessidebar={},e.themesmain={},e.themesscrollbar={},e.themestopbar.isDark=0,e.themestopbar.isDarkInvert=0,e.themessidebar.iconmono="";var t=function(e,t){var n=e.split(","),a=0>t?0:255,i=0>t?-1*t:t,r=parseInt(n[0].slice(4)),o=parseInt(n[1]),s=parseInt(n[2]);return"rgb("+(Math.round((a-r)*i)+r)+","+(Math.round((a-o)*i)+o)+","+(Math.round((a-s)*i)+s)+")"},n=function(t){if(t==e.themeselection.classic||t==e.themeselection.darkregular)return"";var n="";return t==e.themeselection.white||t==e.themeselection.darkwhite?n=".aa::before, .an::before, .hn:before,.ey,.b2{box-shadow: 0 -1px 0 #e5e5e5, 0 0 0px rgba(0, 0, 0, .12), 0 0px 2px rgba(0, 0, 0, .24)!important;}.lQ{border-right: 1px solid rgba(0, 0, 0, 0.05);}":(t==e.themeselection.dark||t==e.themeselection.topdarkbar)&&(n=".aa::before, .an::before, .hn:before,.ey,.b2{box-shadow: 0 -1px 0 rgba(0,0,0,0.01), 0 0 0px rgba(0, 0, 0, .82), 0 0px 1px rgba(0, 0, 0, .24)!important;}.lQ{border-right: 1px solid rgba(0, 0, 0, 0.05);}"),n},a=function(t){if(t==e.themeselection.classic)return"";var n="";return n=".M .r{border-radius:none!important;box-shadow:none!important;background-color:transparent!important;} .aF,.as{color: #888!important}"},i=function(n){var a="",i="",r="",o="",s="",l="",c="",d=function(t){t==e.themeselection.white?(e.themessidebar.labelColor="rgba(0,0,0,1)",e.themessidebar.secondaryColor="rgba(40,40,40,1)",e.themessidebar.tertiaryColor="rgba(60,60,60,1)",e.themessidebar.quarteryColor="rgba(90,90,90,1)",e.themessidebar.isDark=0,e.themessidebar.backgroundPrimaryColor="rgba(248,248,248,1)",e.themessidebar.backgroundSecondaryColor="rgba(0,0,0,0.1)",e.themessidebar.backgroundSecondaryColorHover="rgba(0,0,0,0.05)",e.themessidebar.backgroundTertiaryColor="rgba(100,100,100,1)",e.themessidebar.backgroundQuarteryColor="rgba(120,120,120,1)",e.themesscrollbar.color="rgba(0,0,0,0.5)"):t==e.themeselection.dark&&(e.themessidebar.labelColor="rgba(255,255,255,1)",e.themessidebar.secondaryColor="rgba(235,235,235,1)",e.themessidebar.tertiaryColor="rgba(215,215,215,1)",e.themessidebar.quarteryColor="rgba(195,195,195,1)",e.themessidebar.isDark=1,e.themessidebar.backgroundPrimaryColor="rgba(36,47,57,1)",e.themessidebar.backgroundSecondaryColor="rgba(0,0,0,0.3)",e.themessidebar.backgroundSecondaryColorHover="rgba(0,0,0,0.1)",e.themessidebar.backgroundTertiaryColor="rgba(100,100,100,1)",e.themessidebar.backgroundQuarteryColor="rgba(120,120,120,1)",e.themesscrollbar.color="rgba(255,255,255,0.5)")},m=function(t){t==e.themeselection.white?(e.themestopbar.backgroundPrimaryColor="rgba(252,252,252,1)",e.themestopbar.backgroundSecondaryColor="rgba(250,250,250,1)",e.themestopbar.backgroundTertiaryColor="rgba(0,0,0,0.05)",e.themestopbar.labelColor="rgba(0,0,0,0.8)",e.themestopbar.backgroundPinOff="rgba(0,0,0,0.05)",e.themestopbar.backgroundPinOn="rgba(0,0,0,0.08)",e.themestopbar.ColorPin="rgba(252,252,252,1)",e.themestopbar.isDark=1,e.themestopbar.isDarkInvert=0,a=".pr{background-color:"+e.themestopbar.backgroundPrimaryColor+"!important;color:"+e.themestopbar.labelColor+"!important;border-bottom:1px solid rgba(0,0,0,0.05)!important}.wF.l6{background-color: rgba(250, 250, 250, .9)!important}.pr>img, .pr>button{-webkit-filter:invert(1)!important;}"):t==e.themeselection.dark&&(e.themestopbar.backgroundPrimaryColor="rgba(26,37,47,1)",e.themestopbar.backgroundTertiaryColor="rgba(255,255,255,0.08)",e.themestopbar.labelColor="rgba(255,255,255,0.8)",e.themestopbar.backgroundPinOff="rgba(255,255,255,0.05)",e.themestopbar.backgroundPinOn="rgba(255,255,255,0.08)",e.themestopbar.ColorPin="rgba(46,57,67,1)",e.themestopbar.isDark=0,e.themestopbar.isDarkInvert=1,a=".pr{background-color:"+e.themestopbar.backgroundPrimaryColor+"!important;color:"+e.themestopbar.labelColor+"!important;}")};n==e.themeselection.classic&&(e.themessidebar.isDark=0),n==e.themeselection.white?(d(n),m(n),e.themesmain.backgroundPrimaryColor="rgba(248,248,248,1)"):n==e.themeselection.dark?(d(n),m(n),e.themesmain.backgroundPrimaryColor="rgba(245,245,245,1)"):n==e.themeselection.darkwhite?(d(e.themeselection.dark),m(e.themeselection.white),e.themesmain.backgroundPrimaryColor="rgba(245,245,245,1)"):n==e.themeselection.topdarkbar?(d(e.themeselection.white),m(e.themeselection.dark),e.themesmain.backgroundPrimaryColor="rgba(248,248,248,1)"):n==e.themeselection.darkregular?d(e.themeselection.dark):n==e.themeselection.custom&&(e.themessidebar.backgroundPrimaryColor=e.themeselection.customcolor,e.themesmain.backgroundPrimaryColor=e.themeselection.customcolor,e.themestopbar.backgroundPrimaryColor=t(e.themeselection.customcolor,-.03),e.themestopbar.backgroundSecondaryColor=t(e.themeselection.customcolor,-.06),e.themestopbar.backgroundTertiaryColor="rgba(0,0,0,0.05)",e.themestopbar.backgroundPinOff="rgba(0,0,0,0.05)",e.themestopbar.backgroundPinOn="rgba(0,0,0,0.08)",e.themestopbar.ColorPin=e.themestopbar.backgroundPrimaryColor,e.themestopbar.isDark=1,e.themestopbar.isDarkInvert=0,a=".pr{background-color:"+e.themestopbar.backgroundPrimaryColor+"!important;border-bottom:1px solid rgba(0,0,0,0.05)!important}.wF.l6{background-color: rgba(250, 250, 250, .9)!important}.pr>img, .pr>button{-webkit-filter:invert(1)!important;}");var u="."+e.DOMClasses.classForSidebar,p="."+e.DOMClasses.classForTopbar,b="."+e.DOMClasses.classForTopbarSearch,g="";return 1==e.isIconSidebarMonoChromatic?0==e.themessidebar.isDark?e.themessidebar.iconmono=""+u+" img{-webkit-filter: sepia(1)grayscale(1)brightness(0.65)!important;}":e.themessidebar.iconmono=""+u+" img{-webkit-filter: sepia(1)grayscale(1)brightness(0.45)invert(1)!important;}":e.themessidebar.iconmono="",n!=e.themeselection.classic?(i=""+u+"{transition: background .15s; background:"+e.themessidebar.backgroundPrimaryColor+"!important;color:"+e.themessidebar.secondaryColor+"!important;}.hA,.dK{color:"+e.themessidebar.labelColor+"!important;background:"+e.themessidebar.backgroundSecondaryColor+"!important;}.cN:hover,.cQ:hover{background:"+e.themessidebar.backgroundSecondaryColorHover+"!important;}.Y{border-bottom: 1px solid "+e.themessidebar.backgroundSecondaryColor+"!important} .gN,.gg{-webkit-filter: invert("+e.themessidebar.isDark+")!important;}",r=".ai-b8-bQ{background-color:transparent!important}body{background-color:"+e.themesmain.backgroundPrimaryColor+"!important;}",n!=e.themeselection.darkregular&&(o=""+p+"{background:"+e.themestopbar.backgroundPrimaryColor+"!important}.qz{background:rgba(255,255,255,0.15)!important;}"+p+",.at::before{box-shadow: none!important;}.at{background-color: transparent !important;}.te{background:"+e.themestopbar.backgroundTertiaryColor+"!important;}.gc{background:transparent!important;}.hn ::-webkit-input-placeholder{opacity:0.3!important}",s=""+p+" span,"+p+" .bl,"+p+" div>img,"+p+" div>input{-webkit-filter: invert("+e.themestopbar.isDark+")!important;}"+p+" .b2.bM>img{-webkit-filter:invert(0)!important}"+b+" .f9, "+b+" span,"+b+" div>img,"+b+" div>input{-webkit-filter: invert("+e.themestopbar.isDarkInvert+")!important;}",l=".gH{background-color:"+e.themestopbar.backgroundPinOff+"!important}.o1>.gH{background-color:"+e.themestopbar.backgroundPinOn+"!important}.b2{background-color:"+e.themestopbar.ColorPin+"!important;}.b2.bM{background-color:"+e.themestopbar.ColorPin+"!important;}"),c=""+u+"::-webkit-scrollbar-thumb{background:"+e.themesscrollbar.color+"!important;border-radius: 7px;}",g=".I{background-color:transparent!important;}"+i+r+c+o+s+l+a+e.themessidebar.iconmono):g=e.themessidebar.iconmono,g};return e.selectTheme=function(t){e.themeselection.lastselection=t,e.userDefaults.saveUserDefaults("madbirdiesSelectedTheme",t);var r="madbirdiesTheme",o=document.getElementById(r);o&&o.parentElement.removeChild(o);var s=document.createElement("style");s.setAttribute("id",r),s.textContent=i(t)+n(t)+a(t),document.documentElement.appendChild(s)},e.setIsIconSidebarMonoChromatic=function(t){e.isIconSidebarMonoChromatic!=t&&(e.isIconSidebarMonoChromatic=t,e.userDefaults.saveUserDefaults("madbirdiesThemeMonoChromatic",e.isIconSidebarMonoChromatic),e.selectTheme(e.themeselection.lastselection))},e.loadPreferences=function(){var t=e.userDefaults.getUserDefaults("madbirdiesSelectedTheme");t||(t=0);var n=e.userDefaults.getUserDefaults("madbirdiesThemeMonoChromatic");n||(n=0),e.isIconSidebarMonoChromatic=n,e.selectTheme(t)},e}function madbirdiesExtra(){"use strict";function e(){var e=(new Date).getTime(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)});return t}var t={};t.currentAccountsAvailables={},t.userDefaults=new madbirdiesUserDefaults,t.dummyIdentifier="11111111-2203-1111-1111-111111111111",t.DOMClasses=new madbirdiesInboxDOMElements,t.currentSelectedAccount="",t.currentTemplates=[],t.currentSignatures=[],t.classForExtraMadbirdie="madBirdieExtra",t.titleMenu1="Templates",t.titleMenu2="Signatures";var n=function(){document.documentElement.addEventListener("click",function(e){h(e)},!0);var e=document.createElement("style");e.setAttribute("id","madbirdiesExtraStyle");var t=".madBirdieExtra{overflow:visible!important;padding-top:0!important;padding-bottom:0!important;cursor:default!important;} .maddropdown{position:relative!important;float: right!important;display: inline-block!important;} .madbutton{width:auto!important;margin-right:-6px!important;margin-left:15px!important;} .madbutton:active{color: black!important;} .spantitle{top:-7px!important;position:relative!important;padding-left: 8px!important;}",n=".madDropdown-content{padding-top:6px;position:absolute;right:0px;top:30px;height:auto;width:260px;min-height:125px;max-height:125px;overflow:scroll;overflow-x:hidden;border:1px solid rgba(0, 0, 0, 0.2);background-color:rgba(252, 252, 252, 1);border-radius:4px;box-shadow:0 1px 4px rgba(0, 0, 0, .12);z-index:1;} .dropHide{display:none;} .dropShow{display:block;}",a='.madMenuItem{cursor:pointer; width: 100%;max-height: 25px;line-height: 25px;display: block;border-bottom: 1px solid rgba(0, 0, 0, 0);text-decoration: none;color: rgba(0, 0, 0, 1);overflow: hidden;} .madMenuItemTitle{margin-left:20px; max-width: calc(100% - 45px);display: block;max-height: 100%;} .madMenuItem:hover{background-color:#3a91f9;color:white;} .madMenuItemTitle:hover{color:white} .madMenuItemDelete{position: absolute;top: 0;right: 0;height: 100%;width:25px;text-align: center; opacity:0.1;} .madMenuItemDelete:hover{opacity:1;} .madMenuItemAdd{cursor:pointer;margin-left: 35px;line-height: 25px;height: 25px;padding-left: 10px;padding-right: 10px;margin-top: 15px;margin-bottom: 15px;display: inline-block;background-color: rgba(80, 130, 200, 1);border-radius: 2px;border: 1px solid rgba(0, 0, 0, 0.1);text-decoration: none;color: rgba(255, 255, 255, 1);}.madMenuItemAdd:hover{color: rgba(255, 255, 255, 1);}.madMenuItemSelect{position:absolute;left:0;width: 20px;height:100%;background-image: url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" version="1.1" x="0px" y="0px" width="20px" height="25px" viewBox="0 0 200 250"><path d="M 144.41,75.93 C 147.84,77.84 149.02,82.07 147.04,85.37 147.04,85.37 101.41,161.44 96.4,169.8 96.08,170.49 95.64,171.14 95.08,171.73 94.87,171.94 94.66,172.13 94.44,172.31 92.19,174.19 88.86,174.59 86.14,173.07 85.26,172.58 84.53,171.94 83.96,171.2 78.55,166.35 52.14,142.64 52.14,142.64 49.89,140.62 49.29,137.54 50.39,134.95 50.71,134.2 51.18,133.5 51.78,132.87 54.49,130.08 59.04,129.92 61.94,132.53 61.94,132.53 78.51,147.4 88.08,156 100.62,135.1 134.59,78.46 134.59,78.46 136.58,75.15 140.97,74.02 144.41,75.93 Z M 144.41,75.93" fill="#000"/></svg>\');background-repeat:no-repeat;visibility:hidden;}';e.textContent=t+n+a,document.documentElement.appendChild(e)};t.addNewExtraForAccount=function(e){var n=e.getElementsByClassName(t.DOMClasses.classForSubject);if(0!=n.length){var i=e.getElementsByClassName(t.classForExtraMadbirdie);0==i.length&&a(e)}};var a=function(e){var n=e.getElementsByClassName(t.DOMClasses.classForSubject)[0],a=document.createElement("div");a.setAttribute("class",t.DOMClasses.classForRegularInboxBarAsFrom+" "+t.classForExtraMadbirdie);var o=r(n,t.titleMenu1),s=r(n,t.titleMenu2);a.appendChild(o),a.appendChild(s),n.parentElement.insertBefore(a,n),l(t.titleMenu1),l(t.titleMenu2),i(a)},i=function(e){for(var n=0;n<t.currentSignatures.length;n++)t.currentSignatures[n].isSelected&&x(t.titleMenu2,t.currentSignatures[n].identifier,e)},r=function(e,n){var a=document.createElement("div");a.setAttribute("class","maddropdown"),a.setAttribute("data-identity",n);var i=document.createElement("button");i.setAttribute("class",t.DOMClasses.classBaseForButton+" madbutton");var r=document.createElement("span");r.setAttribute("class","spantitle"),r.innerHTML=n;var l=document.createElement("img");l.setAttribute("class","madImgclass");var c=o(e);if(c.length>0)for(var d=0;d<c.length;d++)l.setAttribute(c[d].name,c[d].value);return i.appendChild(r),i.appendChild(l),a.appendChild(i),a.appendChild(s(n)),a},o=function(e){var n=[],a=e.parentNode.getElementsByClassName(t.DOMClasses.classBaseForButton)[0];if(!a)return[];var i=a.getElementsByTagName("img")[0];return i?n=i.attributes:[]},s=function(e){var t=document.createElement("div");return t.setAttribute("class","madDropdown-content dropHide"),t.setAttribute("data-dropdown","madDropdown-content-"+e),t},l=function(e){for(var t=document.querySelectorAll('[data-dropdown="madDropdown-content-'+e+'"]'),n=0;n<t.length;n++){var a=s(e);m(a,e),c(a,t[n])}},c=function(e,t){var n=t.parentElement;n.insertBefore(e,t),n.removeChild(t)},d=function(e){var n=[];return e==t.titleMenu1&&(n=t.currentTemplates),e==t.titleMenu2&&(n=t.currentSignatures),n},m=function(e,t){for(var n=d(t),a=0;a<n.length;a++){var i=n[a].name,r=n[a].identifier,o=n[a].isSelected;e.appendChild(u(i,t,r,o))}e.appendChild(p(t))},u=function(e,t,n,a){var i=document.createElement("a");i.setAttribute("class","madMenuItem"),i.setAttribute("data-identifier",n),i.setAttribute("data-menu",t),i.setAttribute("data-action","select");var r=document.createElement("div");r.setAttribute("class","madMenuItemSelect"),r.setAttribute("data-identifier",n),r.setAttribute("data-menu",t),r.setAttribute("data-action","select"),a&&r.setAttribute("style","visibility:visible!important");var o=document.createElement("span");o.setAttribute("class","madMenuItemTitle"),o.setAttribute("data-identifier",n),o.setAttribute("data-menu",t),o.setAttribute("data-action","select"),o.innerHTML=e;var s=document.createElement("div");return s.setAttribute("class","madMenuItemDelete"),s.setAttribute("data-identifier",n),s.setAttribute("data-menu",t),s.setAttribute("data-action","delete"),s.innerHTML="x",i.appendChild(r),i.appendChild(o),i.appendChild(s),i},p=function(e){var n=document.createElement("a");return n.setAttribute("class","madMenuItemAdd"),n.setAttribute("data-identifier","-1"),n.setAttribute("data-menu",e),n.setAttribute("data-action","add"),e==t.titleMenu1&&(n.innerHTML="Save this email as a template"),e==t.titleMenu2&&(n.innerHTML="Save this email as a signature"),n},b=function(e){var t=e.target||e.srcElement,n=t.parentNode.parentNode.getElementsByClassName("madDropdown-content")[0],a=n.getAttribute("class");"madDropdown-content dropHide"==a?n.setAttribute("class","madDropdown-content dropShow"):n.setAttribute("class","madDropdown-content dropHide")},g=function(e){var n=e.target||e.srcElement,a=n.getAttribute("data-identifier");if(a)return f(n),null;var i=n.parentNode;if(!i)return null;if(i=i.parentNode,!i)return null;var r=i.getAttribute("data-identity");if(!r)return null;if(r!=t.titleMenu1&&r!=t.titleMenu2)return null;var o=i.getElementsByClassName("madDropdown-content");return 0==o.length?null:o[0]},h=function(e){var t=(e.target||e.srcElement,g(e));t&&b(e);var n=document.getElementsByClassName("madDropdown-content dropShow");if(0!=n.length)for(var a=0;a<n.length;a++)n[a]!=t&&n[a].setAttribute("class","madDropdown-content dropHide")},f=function(e){var t=e.getAttribute("data-identifier"),n=e.getAttribute("data-menu"),a=e.getAttribute("data-action"),i=A(e);if("add"==a){if(!i)return;w(e,i)}else if("select"==a){if(!i)return;x(n,t,i)}else"delete"==a&&k(n,t)},v=function(e){var n=e.getElementsByClassName(t.DOMClasses.classForBody);if(0==n.length)return null;for(var a=n[0].childNodes,i=0;i<a.length;i++)if(a[i].getAttribute("contenteditable"))return a[i];return null},w=function(n,a){var i=n.getAttribute("data-menu"),r=v(a);if(r){var o="Untitled",s=r.innerHTML;s.length<5&&(s="");var l=a.getElementsByClassName(t.DOMClasses.classForSubject)[0];if(l&&(l=l.getElementsByTagName("input")[0]),l&&(o=0!=l.value.length?l.value:l.title),""!=s){var c={};c.contentToSave=s,c.name=o,c.menu=i,c.identifier=e();try{var d=t.currentAccountsAvailables[t.currentSelectedAccount];d&&(c.account=d)}catch(m){}webkit.messageHandlers.savetemplate.postMessage(JSON.stringify(c)),C(c)}}},C=function(e){var n={};n.html=e.contentToSave,n.identifier=e.identifier,n.name=e.name,e.menu==t.titleMenu1&&t.currentTemplates.push(n),e.menu==t.titleMenu2&&t.currentSignatures.push(n),l(e.menu)},x=function(e,n,a){try{a=a.parentElement;var i=a.getElementsByClassName(t.DOMClasses.classForBody)[0];if(i=i.getElementsByClassName("editable")[0],!i)return;i.focus(),e==t.titleMenu2&&(E(i),y(e,n));var r={};r.menu=e,r.identifier=n;var o=t.currentAccountsAvailables[t.currentSelectedAccount];o&&(r.account=o),webkit.messageHandlers.insertHTMLFor.postMessage(JSON.stringify(r))}catch(s){console.log("error: "+s)}},y=function(e,n){if(n!=t.dummyIdentifier){for(var a=0;a<t.currentSignatures.length;a++)t.currentSignatures[a].identifier==n?t.currentSignatures[a].isSelected=!0:t.currentSignatures[a].isSelected=!1;l(e)}},E=function(e){if("undefined"!=typeof window.getSelection&&"undefined"!=typeof document.createRange){var t=document.createRange();t.selectNodeContents(e),t.collapse(!1);var n=window.getSelection();n.removeAllRanges(),n.addRange(t)}else if("undefined"!=typeof document.body.createTextRange){var a=document.body.createTextRange();a.moveToElementText(e),a.collapse(!1),a.select()}},k=function(e,n){var a={};a.identifier=n,a.menu=e;try{var i=t.currentAccountsAvailables[t.currentSelectedAccount];i&&(a.account=i)}catch(r){}webkit.messageHandlers.deleteDataFor.postMessage(JSON.stringify(a)),M(a.identifier,a.menu),l(a.menu)},M=function(e,n){var a=[];n==t.titleMenu1&&(a=t.currentTemplates),n==t.titleMenu2&&(a=t.currentSignatures);for(var i=[],r=0;r<a.length;r++)a[r].identifier!=e&&i.push(a[r]);n==t.titleMenu1&&(t.currentTemplates=i),n==t.titleMenu2&&(t.currentSignatures=i)},A=function(e){for(var n=e,a=n.getAttribute("class");n;){if(a.indexOf(t.classForExtraMadbirdie)>-1)return n=n.parentElement;n=n.parentElement,a=n.getAttribute("class")}return null};return t.setAccountsAvailables=function(e){t.currentAccountsAvailables=e},t.setSelectedAccount=function(e){t.currentSelectedAccount=e},t.setCurrentTemplates=function(e){t.currentTemplates=e,l(t.titleMenu1)},t.setCurrentSignatures=function(e){t.currentSignatures=e,l(t.titleMenu2)},t.setIsExtraActivated=function(e){t.userDefaults.saveUserDefaults("madbirdiesShowExtrabar",e)},t.isExtraActivated=function(e){var n=t.userDefaults.getUserDefaults("madbirdiesShowExtrabar");return n?n=1==n?!0:!1:!1},n(),t}function madbirdiesdetectNewEmails(){"use strict";madbirdiesdetectNewEmails={};var e=function(){t()},t=function(){var e=JSON.parse;JSON.parse=function(t){var i=e(t);try{if(t.length>9&&'[[["cmn"'==t.substring(0,8)){var r={},o=i[0][0][1],s=e(o);if(s[6].indexOf("^i")>-1){r.sender=s[9],r.title=s[7],r.message=s[8];var l=n(s[6]);r.bundletype=l,a(r)}}}catch(c){console.log("error interceptJson:"+c)}return i}},n=function(e){return e.indexOf("sq_ig_i_personal")>-1?"Regular":e.indexOf("^smartlabel_social")>-1?"Social":e.indexOf("^smartlabel_promo")>-1?"Promo":e.indexOf("^smartlabel_finance")>-1?"Finance":e.indexOf("^smartlabel_group")>-1?"Forum":e.indexOf("^smartlabel_pure_notif")>-1?"Updates":e.indexOf("^smartlabel_receipt")>-1?"Purchases":"Regular"},a=function(e){try{webkit.messageHandlers.newEmailCallBackHandler.postMessage(JSON.stringify(e))}catch(t){console.log("error processNewComingEmail "+t)}};return e(),madbirdiesdetectNewEmails}function madbirdiesInboxActions(){"use strict";var e={};e.DOMClasses=new madbirdiesInboxDOMElements,e.actionReply=function(){var e=t();e&&n(e,"quick_compose_reply")},e.actionForward=function(){var e=t();e&&n(e,"quick_compose_forward")},e.actionArchive=function(){var e=t();e&&n(e,"global.archive")},e.actionSnooze=function(){var e=t();e&&n(e,"toggle_snooze_menu")},e.actionPin=function(){var e=t();e&&n(e,"click:global.pin")},e.actionMovetoTrash=function(){var e=t();e&&n(e,"click:global.trash")};var t=function(){for(var e=document.getElementsByClassName("scroll-list-section-body"),t=null,n=0;n<e.length;n++)for(var a=e[n].getElementsByClassName("scroll-list-item"),i=0;i<a.length;i++)if("true"==a[i].getAttribute("aria-expanded")){var t=a[i];return t}return t};e.createElementToReceiveActionFromMenu=function(){var e=document.createElement("li");e.setAttribute("id","madbirdiesFakeActionElement"),e.setAttribute("style","position:fixed;left:0;top:0;color:transparent!important;"),document.documentElement.appendChild(e)};var n=function(t,n){var i=document.getElementById("madbirdiesFakeActionElement");i||e.createElementToReceiveActionFromMenu(),"toggle_snooze_menu"==n?n=a(t,n,"iK nL"):"quick_compose_forward"==n?n=a(t,n,"dX"):"quick_compose_reply"==n&&(n=a(t,"quick_compose_forward","dX"),n=n.replace("quick_compose_forward","quick_compose_popout_mole")),i.setAttribute("aria-disabled","false"),i.setAttribute("data-action-data",t.getAttribute("data-action-data")),i.setAttribute("jsaction",n);var r=t.getElementsByClassName("iK nL")[0];r&&r.appendChild(i),i.click()},a=function(e,t,n){var a=e.getElementsByClassName(n)[0];if(a)for(var i=0;i<a.childNodes.length;i++){var r=a.childNodes[i].getAttribute("jsaction");if(r&&r.indexOf(t)>-1)return r}};e.openInbox=function(){r("[1,[[4,0,0,null,null,0]]]")},e.openSnoozed=function(){r("[1,[[11,0,0,null,null,0]]]")},e.openDone=function(){r("[1,[[2,0,0,null,null,0]]]")},e.openReminders=function(){r("[1,[[5,0,0,null,null,0]]]")},e.openDraft=function(){r("[1,[[3,0,0,null,null,0]]]")},e.openSent=function(){r("[1,[[7,0,0,null,null,0]]]")},e.openSettings=function(){i("global.app_settings_open")},e.openContact=function(){i("global.click_contacts_menu_item")};var i=function(t){for(var n=document.getElementsByClassName(e.DOMClasses.classForSidebarElements),a=0;a<n.length;a++)if(n[a].getAttribute("jsaction")==t){n[a].click();break}},r=function(t){for(var n=document.getElementsByClassName(e.DOMClasses.classForSidebarElements),a=0;a<n.length;a++)if(n[a].dataset.actionData==t){n[a].click();break}};e.openHideSidebar=function(){var t=document.getElementsByClassName(e.DOMClasses.classForBtnHideSidebar)[0];t.click()},e.openSearch=function(){var t=document.getElementsByClassName(e.DOMClasses.classForBtnOpenSearcg)[0];t.click()},e.openNewMessage=function(){var t=document.getElementsByClassName(e.DOMClasses.classForBtnNewMessage)[0];t.click()},e.openHelp=function(){var t=document.getElementsByClassName(e.DOMClasses.classForBtnHelp)[0];t.click()},e.addAccount=function(){for(var e,t=document.getElementsByTagName("A"),n=0;n<t.length;n++)if(e=t[n].getAttribute("href"),e&&e.indexOf("://accounts.google.com/AddSession?")>-1)return void t[n].click()},e.actionSend=function(){var t=o(),n=!0;if(!t){n=!1;var a=document.getElementById(e.DOMClasses.classForNewEmailDivContainer);if(t=a.getElementsByClassName(e.DOMClasses.classForNewMessagePanel),!t)return}var i,r=0;if(n)i=t[0];else for(var s=0;s<t.length;s++){var l=t[s].getAttribute("style");if(l){l=l.replace("z-index:",""),l=l.replace(";","");var c=parseInt(l);c>=r&&(r=c,i=t[s])}}if(i){var d=i.getElementsByClassName("sY")[0];if(d){var m=d.getAttribute("jsaction");m&&m.indexOf(".send")>-1&&d.click()}}};var o=function(){var t=document.getElementById(e.DOMClasses.classForNewEmailFullScreenDivContainer),n=t.getElementsByClassName(e.DOMClasses.classForNewMessagePanel);return n?0==n.length?null:n:null};return e}function madbirdiesAccounts(){"use strict";var e={};e.customBadgeDefaultID="sekit-unread-badge-user-",e.DOMClasses=new madbirdiesInboxDOMElements,e.callback,e.currentAccount,e.listOfAcountsAvailable,e.setCallBack=function(t){e.callback=t},e.accountsAvailable=function(){var n=a();return n?void t():void setTimeout(e.accountsAvailable,500)};var t=function(){var t=a();if(t){for(var i={},s=0;s<t.length;s++){var l=r(t[s]);if(l){n(l,s);var c=l.innerHTML,d=c.split(" ");i[s]=d[0]}}e.listOfAcountsAvailable=i,e.currentAccount=i[o()],e.callback(),webkit.messageHandlers.accountsAvailableCallBack.postMessage(JSON.stringify(i))}},n=function(t,n){var a=t.parentNode.parentNode;if(a){var i=document.createElement("div");i.setAttribute("id",e.customBadgeDefaultID+n),i.setAttribute("class","sekit-unread sekit-hidden"),a.appendChild(i)}},a=function(){for(var t,n=0;n<e.DOMClasses.classForAccountsAvailable.length;n++)if(t=document.getElementsByClassName(e.DOMClasses.classForAccountsAvailable[n]),i(t))return t},i=function(t){if(t&&0!=t.length){for(var n=0;n<t.length;n++)for(var a=0;a<e.DOMClasses.classForAccountsAvailableEmail.length;a++){var i=t[n].getElementsByClassName(e.DOMClasses.classForAccountsAvailableEmail[a]);if(i&&0!=i.length&&"DIV"==i[0].tagName)return!0}return!1}return!1},r=function(t){for(var n,a=0;a<e.DOMClasses.classForAccountsAvailableEmail.length;a++)if(n=t.getElementsByClassName(e.DOMClasses.classForAccountsAvailableEmail[a])[0],n&&"DIV"==n.tagName&&0!=n.innerHTML.length)return n};e.updateUnreadForAccount=function(t,n){var a=document.getElementById(e.customBadgeDefaultID+n);a&&(0!=t?(a.textContent=t,a.setAttribute("class","sekit-unread")):(a.textContent="",a.setAttribute("class","sekit-unread sekit-hidden")))};var o=function(){var e=window.location.pathname,t=isNaN(e[3])?"0":e[3];return 1*t};return e}function madbirdiesBigCompo(){"use strict";var e={};e.userDefaults=new madbirdiesUserDefaults,e.toogleBigCompo=function(){var n=document.getElementById("madbirdiesBigEmailCompo");n?(e.userDefaults.saveUserDefaults("bigCompo",0),webkit.messageHandlers.bigCompoCallBack.postMessage("0"),n.parentElement.removeChild(n)):(e.userDefaults.saveUserDefaults("bigCompo",1),t(),webkit.messageHandlers.bigCompoCallBack.postMessage("1"))},e.setBigCompoState=function(n){var a=document.getElementById("madbirdiesBigEmailCompo");e.userDefaults.saveUserDefaults("bigCompo",n),a?0==n&&(webkit.messageHandlers.bigCompoCallBack.postMessage("0"),a.parentElement.removeChild(a)):1==n&&(t(),webkit.messageHandlers.bigCompoCallBack.postMessage("1"))};var t=function(){var e=document.createElement("style");e.setAttribute("id","madbirdiesBigEmailCompo"),e.textContent=".ae{height: 100vw!important;}.k{width: calc(100vw - 200px)!important;}",document.documentElement.appendChild(e)},n=function(){if(webkit.messageHandlers.bigCompoCallBack){var t=e.userDefaults.getUserDefaults("bigCompo");t||(t=0),e.setBigCompoState(t)}};return n(),e}function madbirdiesSidebar(){"use strict";var e={};e.toogleMiniSidebar=function(){var e=document.getElementById("madbirdiesminiSideBarStyle");e?(webkit.messageHandlers.minibarCallBack.postMessage("0"),e.parentElement.removeChild(e)):(t(),webkit.messageHandlers.minibarCallBack.postMessage("1"))},e.setMiniSidebarState=function(e){var n=document.getElementById("madbirdiesminiSideBarStyle");n?0==e&&(webkit.messageHandlers.minibarCallBack.postMessage("0"),n.parentElement.removeChild(n)):1==e&&(t(),webkit.messageHandlers.minibarCallBack.postMessage("1"))};var t=function(){var e=document.createElement("style");e.setAttribute("id","madbirdiesminiSideBarStyle"),e.textContent=".fv.tTwEpb,.lQ{max-width:60px!important;}.lQ>ul>li{text-overflow:clip!important;}.M .bz{margin-left: 82px!important;}.M .a1{margin-left: 82px!important;}.M :not(.a1)>*>.dw{padding-left: 82px!important;}li.bR{display: none;}.ig{text-overflow: inherit;}",document.documentElement.appendChild(e)};return e}function madbirdiesFontSize(){"use strict";var e={};e.userDefaults=new madbirdiesUserDefaults,e.lastFontsize=0,e.setFontSizeFromApp=function(t){e.userDefaults.saveUserDefaults("fontSize",t),e.lastFontsize!=t&&(e.lastFontsize=t,e.setFontSize(t))},e.setFontSize=function(e){var t=document.getElementById("madbirdies-fontmanagement-css");if(t){var n="";0==e?n="@media (min-width:1600px) {body{font-size:105%!important;} .cM{width:auto!important;} .n7{font-size: 100% !important;} .Go{line-height:2.4!important;} .hY,.g6,.lo,.bg{padding-top:10px!important} .pF.s2{line-height:1.0!important;}.iO>.dm{height: 25px!important;}}":1==e?n=".cM{width:auto!important;}":2==e?n="body{font-size:105%!important;} .cM{width:auto!important;} .n7{font-size: 100% !important;} .Go{line-height:2.4!important;} .hY,.g6,.lo,.bg{padding-top:10px!important} .pF.s2{line-height:1.0!important;} .iO>.dm{height: 25px!important;}.iG{margin-top:6px!important;}":3==e&&(n="body{font-size:110%!important;} .cM{width:auto!important;} .n7{font-size: 100% !important;} .Go{line-height:2.4!important;} .hY,.g6,.lo,.bg{padding-top:10px!important} .pF.s2{line-height:1.0!important;} .iO>.dm{height: 25px!important;}.iG{margin-top:7px!important;}"),
t.textContent=n}},e.loadPreferences=function(){var t=e.userDefaults.getUserDefaults("fontSize");t||(t=0),e.lastFontsize=t,e.setFontSize(t)};var t=function(){var e=document.createElement("style");e.setAttribute("id","madbirdies-fontmanagement-css");var t="@media (min-width:1600px) {body{font-size:110%!important;} .cM{width:auto!important;} .n7{font-size: 100% !important;} .Go{line-height:2.4!important;} .hY,.g6,.lo,.bg{padding-top:10px!important} .pF.s2{line-height:1.0!important;}}";e.textContent=t,document.documentElement.appendChild(e)};return t(),e}function madbirdiesShowHideAttachement(){"use strict";var e={};e.userDefaults=new madbirdiesUserDefaults,e.lastHideAttachement=0,e.showHideAttachementFromApp=function(t){e.userDefaults.saveUserDefaults("hideAttachement",t),e.lastHideAttachement!=t&&(e.lastHideAttachement=t,e.showHideAttachement(t))},e.showHideAttachement=function(e){var n=document.getElementById("madbirdiesshowHideAttachementStyle");n?0==e&&(webkit.messageHandlers.showHideAttachmentCallBack.postMessage("0"),n.parentElement.removeChild(n)):1==e&&(t(),webkit.messageHandlers.showHideAttachmentCallBack.postMessage("1"))};var t=function(){var e=document.createElement("style");e.setAttribute("id","madbirdiesshowHideAttachementStyle"),e.textContent='.hU{display:none!important} .fK{width: 20px !important;padding-bottom: 0 !important;padding-top: 0 !important;margin-top: -22px !important;margin-left:6px!important;background-image: url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" version="1.1" x="0px" y="0px" width="10px" height="12px" viewBox="0 0 512 1024"><path d="M442.182,232.728V768c0,102.863-83.318,186.182-186.182,186.182S69.818,870.863,69.818,768V186.182 c0-64.228,52.136-116.363,116.363-116.363s116.364,52.136,116.364,116.363v488.728c0,25.591-20.728,46.546-46.546,46.546 c-25.829,0-46.546-20.955-46.546-46.546V232.728h-69.817v442.182c0,64.228,52.136,116.363,116.363,116.363 s116.363-52.136,116.363-116.363V186.182C372.363,83.318,289.046,0,186.182,0C83.318,0,0,83.318,0,186.182V768 c0,141.5,114.738,256,256,256c141.272,0,256-114.5,256-256V232.728H442.182z" fill="#777"/></svg>\')!important;background-repeat: no-repeat !important;}',document.documentElement.appendChild(e)};return e.loadPreferences=function(){var t=e.userDefaults.getUserDefaults("hideAttachement");t||(t=0),e.lastHideAttachement=t,e.showHideAttachement(t)},e}function madbirdiesLinkClickFixer(){"use strict";var e={},t=function(){document.documentElement.addEventListener("click",function(e){n(e)},!0)},n=function(e){var t=e.target||e.srcElement,n=t.closest("a");if(n)a("A",n.getAttribute("href"));else{for(var i,r=0;!i;)i=t.getAttribute("jsaction"),t=t.parentElement,r++,r>6&&(i="none"),t||(i="none");i.indexOf("pre_toggle_item")>-1&&setTimeout(webkit.messageHandlers.forceUnReadCallBackHandler.postMessage(""),5e3)}},a=function(e,t){try{var n={};n.action="click",n.linktype=e,n.href=t,webkit.messageHandlers.clickAnchorCallBackHandler.postMessage(JSON.stringify(n))}catch(a){console.log("The native context does not exist yet")}};return t(),e}function madbirdiesNewEmailComposerDetector(){"use strict";var e={};e.jstcacheIteration=0,e.jstcacheForNewEmailWindow=[],e.callBackAdded,e.callBackRemoved,e.DOMClasses=new madbirdiesInboxDOMElements,e.hasbeenalreadyremovedonce=!1;var t=function(){var t=window.MutationObserver||window.WebKitMutationObserver,i=new t(function(t){t.forEach(function(t){t.addedNodes.length>0?n(t.addedNodes[0])&&e.jstcacheIteration>0&&(e.jstcacheIteration=0,e.hasbeenalreadyremovedonce=!0,a(t.addedNodes[0])):t.removedNodes.length>0&&(e.jstcacheIteration++,e.hasbeenalreadyremovedonce&&(e.hasbeenalreadyremovedonce=!1,e.callBackRemoved()))})}),r=document.getElementById(e.DOMClasses.classForNewEmailDivContainer);i.observe(r,{childList:!0})},n=function(t){var n=t.getElementsByClassName(e.DOMClasses.classForNewMessagePanel);if(n.length>0){var a=n[0].getElementsByTagName("iframe");if(0==a.length)return!0}return!1},a=function(t){var n=i();n&&e.callBackAdded(t)},i=function(){var t=document.getElementById(e.DOMClasses.classForNewEmailDivContainer),n=t.getElementsByClassName(e.DOMClasses.classForNewMessagePanel);return n?0==n.length?null:n:null},r=function(){var n=document.getElementById(e.DOMClasses.classForNewEmailDivContainer);return n?void t():void setTimeout(r,100)};return e.initWithCallbacks=function(t,n){e.callBackAdded=t,e.callBackRemoved=n,r()},e}function madbirdiesFullWindowEmail(){"use strict";var e={};e.DOMClasses=new madbirdiesInboxDOMElements,e.titleForNewWindowMessage="",e.isNewEmailReady=!1;var t=function(){var a=document.getElementsByClassName(e.DOMClasses.classForBtnNewMessage)[0];return a?void n():void setTimeout(t,100)},n=function(){var t=document.getElementById(e.DOMClasses.classForNewEmailDivContainer);return t?void a():void setTimeout(n,100)},a=function(){if(!e.isNewEmailReady){var t=document.getElementsByClassName(e.DOMClasses.classForBtnNewMessage)[0];t.click(),setTimeout(a,1e3)}},i=function(){var e=document.createElement("div");e.setAttribute("id","madbirdiescovernewemailarea");var t="position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background-color: rgba(255,255,255,1); z-index:9;";e.setAttribute("style",t),document.documentElement.appendChild(e);var n=document.createElement("style");n.setAttribute("id","madbirdiesFullWindowEmailCompo"),n.textContent="body{overflow:hidden!important}#L2fznf{visibility:hidden;}.lK{visibility:visible;}.ae{min-height: calc(100vh - 100px)!important;max-height: calc(100vh - 100px)!important;height:calc(100vh - 100px) !important;}.mS{margin:0!important;}.k{right: -102px!important;min-width:100vw;min-height:100vh;z-index:20;}.mS .k{right:0px!important;}.Ut6z6b,.jB,img.tb,.rs.k2{display:none!important}.pr>.IB{display:none!important}#madbirdiestitlebar{line-height: 0;font-size: 13px;font-weight:500;margin-top:8px;text-align: center;-webkit-user-select:none;cursor:default!important} .pr{-webkit-user-select: none;}.nPQzwd{display:none!important}"+r(),document.documentElement.appendChild(n)},r=function(){return""},o=function(){if(0!=e.titleForNewWindowMessage.length){var t=document.getElementsByClassName("pr")[0];if(t){var n=document.createElement("p");n.setAttribute("id","madbirdiestitlebar"),n.textContent=e.titleForNewWindowMessage,t.appendChild(n),t.parentElement.parentElement.setAttribute("style","z-index:19999;"),e.titleForNewWindowMessage=""}}},s=function(){var e=document.createElement("style");e.setAttribute("id","madbirdiesManagewaitingbox"),e.textContent="#Hg{display:none!important} #madbirdieswaiting{bottom: calc(50% + 15px);left: calc(50% - 50px);position: fixed;z-index: 50;font-family:helvetica;}",document.documentElement.appendChild(e);var t=document.createElement("div");t.setAttribute("id","madbirdieswaiting"),t.innerHTML='<div id=“madbirdieswaiting”><div class="sf"><span class="loadingSpinner"></span><span>Loading...</span></div></div>',document.documentElement.appendChild(t)},l=function(){var e=document.getElementById("madbirdieswaiting");e.parentNode.removeChild(e);var t=document.getElementById("madbirdiesManagewaitingbox");t.parentNode.removeChild(t)};return e.prepareForWindowWithTitle=function(n){e.titleForNewWindowMessage=n,s(),i(),t()},e.newEmailIsReady=function(t){e.isNewEmailReady=!0,l(),o(),t()},e}function madbirdiesNewEmailWithAttachement(){"use strict";var e={};e.DOMClasses=new madbirdiesInboxDOMElements,e.newMessagePanelsBefore,e.openWithAttachement=function(){e.newMessagePanelsBefore=document.getElementsByClassName(e.DOMClasses.classForNewMessagePanel);var n=document.getElementsByClassName(e.DOMClasses.classForBtnNewMessage)[0];n.click(),setTimeout(function(){t()},1e3)};var t=function(){var t=n();if(t)try{t.getElementsByClassName(e.DOMClasses.classForBody)[0].childNodes[1].focus(),webkit.messageHandlers.pasteAttachementInNewEmail.postMessage("")}catch(a){console.log("error: "+a)}};e.urlSchemeHandler=function(t){var n=decodeURIComponent(t),a=madbirdiesmailtoParse.parse(n,!0),r={};r.to=a.to,r.subject=a.attributeKey.body,r.body=a.attributeKey.subject,e.newMessagePanelsBefore=document.getElementsByClassName(e.DOMClasses.classForNewMessagePanel);var o=document.getElementsByClassName(e.DOMClasses.classForBtnNewMessage)[0];o.click(),setTimeout(function(){i(r)},1e3)};var n=function(){var t,n=document.getElementsByClassName(e.DOMClasses.classForNewMessagePanel),i=[],r=[];try{for(var o,s=0;o=n[s];++s)i.push(o);for(var l,c=0;l=e.newMessagePanelsBefore[c];++c)r.push(l)}catch(d){console.log("error: "+d)}for(var s=0;s<i.length;s++)-1==r.indexOf(i[s])&&(t=i[s]);return t||(t=a(n)),t},a=function(e){try{for(var t=0;t<e.length;t++){var n=e[t].getElementsByTagName("input");if(n.length>0)return e[t]}}catch(a){console.log("error: "+a)}return nil},i=function(t){var a=n();if(a){for(var i=a.getElementsByTagName("input"),r=[],o=[],s=0;s<i.length;s++)"To"==i[s].getAttribute("aria-label")?r.push(i[s]):"Subject"==i[s].getAttribute("title")&&o.push(i[s]);try{r[0]&&t.to&&(r[0].focus(),r[0].value=t.to+""),o[0]&&(o[0].focus(),t.subject&&(o[0].value=t.subject+"")),a.getElementsByClassName(e.DOMClasses.classForBody)[0].childNodes[1].focus()}catch(l){}}};return e}function madbirdiesBasicCSS(){"use strict";var e={};e.DOMClasses=new madbirdiesInboxDOMElements;var t=function(){n(),a()},n=function(){var e=document.createElement("style"),t=".one-google > .logo-strip,.one-google > .tagline,.google-footer-bar,.zOB73,#maia-footer{display:none!important;} .banner H1{display:none!important;}",n=".k2{visibility:hidden!important;}.gb_9a{visibility:visible!important;}.gb_bb{padding-right:15px!important;}.lE{margin-left:-8px!important;}.f1{margin-right:-40px!important;}",a=".hn{padding-top:8px;} .hn:before{top:0px!important;}",i="div + .k3{min-width:70px!important;}",r=".XvyNac,#content{padding-top:15px;} .j3Xhx{top:20px!important} .Pzc{display:none!important;} .gb_gbsh{top:-70px!important}",o="@media (max-width:700px) {.fv.tTwEpb,.lQ{max-width:60px!important;}.lQ>ul>li{text-overflow:clip!important;padding-top:8px!important;line-height:26px!important;}.M .bz{margin-left: 96px!important;}.M .a1{margin-left: 82px!important;}.M :not(.a1)>*>.dw{padding-left: 82px!important;}li.bR{display: none;}.ig{text-overflow: inherit;} .cQ,.cN{display: block!important;padding-left:14px;} .lQ .sM,.lQ .op{opacity:0!important;}}",s=".sekit-unread{position:absolute;top:0;right:0;margin-right:10px;margin-top:10px;font-weight:600;color:#fff;min-width:12px;width:auto;padding-left:6px;padding-right:6px;height:24px;background-color:rgba(250,0,0,0.9);border-radius:24px;text-align:center;line-height:2} .sekit-hidden{display:none!important;}",l="nav, .lQ, .section-header, .cM.bz, #btariaid-51, .m8.f, .nPQzwd,.an.b9{-webkit-user-select: none;} .scroll-list-item-open,#settings-signature-text,.lw{-webkit-user-select: text;} :focus{outline: none;}",c='#madbirdiesEmailPrettyReader{position: fixed;left:0;top:0;width: 100vw;margin-top: 56px;height: calc(100vh - 56px);z-index:21;overflow:scroll;background:rgba(246,246,246,1);}#madbirdiesCloseButton{position:absolute;top: 24px;left: 24px;width: 24px;height:24px;background-image: url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="174px" height="174px" viewBox="0 0 200 250"><path d="M 1.5,-14.5 C 1.5,-14.5 1.5,-8.22 1.5,-1.5 L 14.5,-1.5 14.5,1.5 1.5,1.5 C 1.5,8.22 1.5,14.5 1.5,14.5 L -1.5,14.5 C -1.5,14.5 -1.5,8.22 -1.5,1.5 L -14.5,1.5 -14.5,-1.5 -1.5,-1.5 C -1.5,-8.22 -1.5,-14.5 -1.5,-14.5 L 1.5,-14.5 1.5,-14.5 Z M 1.5,-14.5" transform="translate(-7.5, 18.5) rotate(45)" fill="#fff"/></svg>\');background-repeat:no-repeat;}';e.textContent=".oin9Fc{padding-top:0!important;padding-bottom:0!important;}.cM{min-width:250px!important;}.cM.bz{margin-left: auto;margin-right: auto;max-width: 94vw;}  .M .bz{margin-left: 252px !important;margin-right: 24px!important;}.X{margin-left:21px; margin-right:20px;} .gb_9a{padding-right:15px!important}"+t+n+a+r+o+s+l+i+c,document.documentElement.appendChild(e)},a=function(){var t=document.getElementsByClassName(e.DOMClasses.classForGplusBehaviorOutter)[0];return t?void i():void setTimeout(a,300)},i=function(){var t=window.MutationObserver||window.WebKitMutationObserver,n=new t(function(t){t.forEach(function(t){if("aria-expanded"==t.attributeName){var n=t.target.getAttribute("aria-expanded"),a=document.getElementsByClassName(e.DOMClasses.classForGplusBehaviorInner)[0];"false"==n?a.setAttribute("style","display:none!important;"):a.setAttribute("style","")}})}),a=document.getElementsByClassName(e.DOMClasses.classForGplusBehaviorOutter)[0];a&&n.observe(a,{attributes:!0})};return t(),e}function madbirdiesEmailPrettyReader(){"use strict";var e={};e.DOMClasses=new madbirdiesInboxDOMElements,e.madbirdiesPrettyEmailContainer="madbirdiesEmailPrettyReader",e.madbirdiespecplaceholder="madbirdiesEmailPrettyReaderPlaceHolder",e.madbirdiesclosebutton="madbirdiesCloseButton",e.madbirdiesclosebuttoncontainer="madbirdiesCloseButtonContainer";var t=function(){document.documentElement.addEventListener("dblclick",function(e){a(e)},!0),document.documentElement.addEventListener("click",function(e){n(e)},!0)},n=function(t){var n=event.target,a=n.id;if(a&&a==e.madbirdiesclosebutton){event.stopPropagation();var i=document.getElementById(e.madbirdiesPrettyEmailContainer);s(i.childNodes[0])}},a=function(e){var t=event.target,n=!0;try{var a=t.getElementsByClassName("pF");if(a.length>0)return void i(a[0]);for(;n;){if(!t)return void(n=!1);var r=t.getAttribute("class");if(r){var o=r.split(" ");if(o.indexOf("pF")>-1)return void i(t)}t=t.parentElement}}catch(s){console.log("err: "+s)}},i=function(t){t=t.parentElement.getElementsByClassName(e.DOMClasses.classForEmailBodyReader)[0];var n=document.getElementById(e.madbirdiesPrettyEmailContainer);n?s(t):(l(),r(t))},r=function(t){var n=document.createElement("div"),a=document.getElementsByClassName(e.DOMClasses.classForMainContainer)[0];n.setAttribute("id",e.madbirdiesPrettyEmailContainer),a.appendChild(n),o(t),n.appendChild(t),t.style.marginRight="0px",document.body.style.overflowY="hidden";var i=document.getElementsByClassName(e.DOMClasses.classForTopbarElement1)[0],r=document.getElementsByClassName(e.DOMClasses.classForTopbarElement2)[0];i&&(i.style.visibility="hidden"),r&&(r.style.visibility="hidden")},o=function(t){var n=document.createElement("div");n.setAttribute("id",e.madbirdiespecplaceholder),t.parentElement.insertBefore(n,t)},s=function(t){var n=document.getElementById(e.madbirdiesPrettyEmailContainer),a=document.getElementById(e.madbirdiespecplaceholder),i=n.childNodes[0];a&&(a.parentElement.appendChild(i),a.parentElement.insertBefore(a,i),a.parentElement.removeChild(a)),n.parentElement.removeChild(n),document.body.style.overflowY="scroll",t.style.marginRight="60px";var r=document.getElementsByClassName(e.DOMClasses.classForTopbarElement1)[0],o=document.getElementsByClassName(e.DOMClasses.classForTopbarElement2)[0];r&&(r.style.visibility="visible"),o&&(o.style.visibility="visible");var s=document.getElementById(e.madbirdiesclosebuttoncontainer);return s?void(s.style.display="none"):void 0},l=function(){var t=document.getElementById(e.madbirdiesclosebuttoncontainer);if(t)return void(t.style.display="block");var n=document.createElement("div");n.setAttribute("id",e.madbirdiesclosebuttoncontainer);var a=document.createElement("span");a.setAttribute("id",e.madbirdiesclosebutton),n.appendChild(a);var i=document.getElementsByClassName(e.DOMClasses.classForTopbar)[0];console.log("container: "+i),console.log("divcontainer: "+n),i.appendChild(n)};return t(),e}function madbirdiesGene(){"use strict";var e={};e.isNewWindowMessageMode=!1,e.madbirdiesExtra=new madbirdiesExtra,e.focusfixer=new madbirdiesFocusFixer,e.madbirdiesTheme=new madbirdiesThemes,e.newEmailsDetector=new madbirdiesdetectNewEmails,e.actions=new madbirdiesInboxActions,e.madbirdiesAccounts=new madbirdiesAccounts,e.sidebar=new madbirdiesSidebar,e.bigCompo=new madbirdiesBigCompo,e.showHideAttach=new madbirdiesShowHideAttachement,e.fontSize=new madbirdiesFontSize,e.linkClickFixer=new madbirdiesLinkClickFixer,e.composerDetector=new madbirdiesNewEmailComposerDetector,e.fullWindowEmail=new madbirdiesFullWindowEmail,e.newEmailWithAttachement=new madbirdiesNewEmailWithAttachement,e.basicCSS=new madbirdiesBasicCSS,e.prettyreader=new madbirdiesEmailPrettyReader,e.init=function(){e.madbirdiesExtra.setSelectedAccount(i()),e.composerDetector.initWithCallbacks(r,o),n(),window.onload=t};var t=function(){e.actions.createElementToReceiveActionFromMenu(),e.accountsAvailable(),a(),window.print=function(){webkit.messageHandlers.print.postMessage("")}},n=function(){e.madbirdiesTheme.loadPreferences(),e.fontSize.loadPreferences(),e.showHideAttach.loadPreferences()},a=function(){var e={};e.userID=i(),webkit.messageHandlers.userForUnReadCallBackHandler.postMessage(JSON.stringify(e))},i=function(){var e=window.location.pathname,t=isNaN(e[3])?"0":e[3];return 1*t};e.actionSend=function(){e.actions.actionSend()},e.actionReply=function(){e.actions.actionReply()},e.actionForward=function(){e.actions.actionForward()},e.actionArchive=function(){e.actions.actionArchive()},e.actionSnooze=function(){e.actions.actionSnooze()},e.actionPin=function(){e.actions.actionPin()},e.actionMovetoTrash=function(){e.actions.actionMovetoTrash()},e.openInbox=function(){e.actions.openInbox()},e.openSnoozed=function(){e.actions.openSnoozed()},e.openDone=function(){e.actions.openDone()},e.openReminders=function(){e.actions.openReminders()},e.openDraft=function(){e.actions.openDraft()},e.openSent=function(){e.actions.openSent()},e.openSettings=function(){e.actions.openSettings()},e.openContact=function(){e.actions.openContact()},e.openHideSidebar=function(){e.actions.openHideSidebar()},e.openSearch=function(){e.actions.openSearch()},e.openNewMessage=function(){e.actions.openNewMessage()},e.openHelp=function(){e.actions.openHelp()},e.addAccount=function(){e.actions.addAccount()},e.toogleMiniSidebar=function(){e.sidebar.toogleMiniSidebar()},e.setMiniSidebarState=function(t){e.sidebar.setMiniSidebarState(t)},e.toogleBigCompo=function(){e.bigCompo.toogleBigCompo()},e.setBigCompoState=function(t){e.bigCompo.setBigCompoState(t)},e.showHideAttachementFromApp=function(t){e.showHideAttach.showHideAttachementFromApp(t)},e.showHideAttachement=function(t){e.showHideAttach.showHideAttachement(t)},e.setFontSizeFromApp=function(t){e.fontSize.setFontSizeFromApp(t)},e.setFontSize=function(t){e.fontSize.setFontSize(t)},e.setAvailableSignatures=function(t){e.madbirdiesExtra.setCurrentSignatures(t)},e.setAvailableTemplates=function(t){e.madbirdiesExtra.setCurrentTemplates(t)},e.changeTheme=function(t){e.madbirdiesTheme.selectTheme(t)},e.setIsIconSidebarMonoChromatic=function(t){e.madbirdiesTheme.setIsIconSidebarMonoChromatic(t)},e.setShowExtrabar=function(t){e.madbirdiesExtra.setIsExtraActivated(t)},e.accountsAvailable=function(){e.madbirdiesAccounts.setCallBack(e.accountsCallback),e.madbirdiesAccounts.accountsAvailable()},e.updateUnreadForAccount=function(t,n){e.madbirdiesAccounts.updateUnreadForAccount(t,n)},e.accountsCallback=function(){e.madbirdiesExtra.setAccountsAvailables(e.madbirdiesAccounts.listOfAcountsAvailable);try{var t=e.madbirdiesAccounts.currentAccount;t&&webkit.messageHandlers.requestSignaturesFor.postMessage(t),webkit.messageHandlers.requestTemplates.postMessage("")}catch(n){}};var r=function(t){return e.isNewWindowMessageMode?void e.fullWindowEmail.newEmailIsReady(function(){s(t)}):void s(t)},o=function(t){e.isNewWindowMessageMode&&webkit.messageHandlers.windowShouldCloseCallBack.postMessage("")},s=function(t){e.madbirdiesExtra.isExtraActivated()&&e.madbirdiesExtra.addNewExtraForAccount(t)};return e.prepareNewMessageFullWindowStyle=function(t){e.isNewWindowMessageMode=!0,e.fullWindowEmail.prepareForWindowWithTitle(t)},e.openWithAttachement=function(){e.newEmailWithAttachement.openWithAttachement()},e.urlSchemeHandler=function(t){e.newEmailWithAttachement.urlSchemeHandler(t)},e.updateFinchCookiesAfterReset=function(t){e.changeTheme(t.theme),e.setIsIconSidebarMonoChromatic(t.icongrey),e.setShowExtrabar(t.showextrabar),e.setFontSizeFromApp(t.fontsize),e.showHideAttachementFromApp(t.showhideattach)},e.init(),e}madbirdiesGeneInstance=new madbirdiesGene;
