function madbirdiesGene(){"use strict";var e={};e.isEnterInPlusElement=!1,e.numberOfLoopForNewTitle=0,e.jstcacheIteration=0,e.jstcacheForNewEmailWindow="",e.titleForNewWindowMessage="",e.isNewEmailReady=!1,e.classForNewEmailDivContainer="OPOhoe",e.classForGplusBehaviorOutter="nPQzwd",e.classForGplusBehaviorInner="jn",e.classForSidebarElements="oin9Fc",e.classForBtnOpenSearcg="gc",e.classForBtnHideSidebar="aO",e.classForBtnNewMessage="bY",e.classForBtnHelp="oCKk2",e.classForAccountsAvailable=["gb_rb","gb_tb"],e.classForAccountsAvailableEmail=["gb_yb","gb_Ab"],e.classForAddAccount=["gb_Ld","gb_Ud"],e.classForShowHideAttachement="hU",e.classForNewMessagePanel="lK",e.classForBody="n7",e.classForNewWindowMessage="xr",e.classForNewWindowMessageInner="nH",e.newMessagePanelsBefore,e.init=function(){t(),b(),h(),window.onload=g};var t=function(){var e=document.createElement("style"),t=".one-google > .logo-strip,.one-google > .tagline,.google-footer-bar,.zOB73,#maia-footer{display:none!important;} .banner H1{display:none!important;}",n=".gb_ca,.oa,.gb_cc,.gb_ea,.gb_fc,.gb_gc.gb_Vc.gb_R.gb_hc{visibility: hidden!important;}",a=".hn{padding-top:10px;} .hn:before{top:0px!important;}",i="@media (min-width:1600px) {body{font-size:1.1em!important;} .cM{width:auto!important;}}",o=".XvyNac,#content{padding-top:15px;} .j3Xhx{top:20px!important} .Pzc{display:none!important;} .gb_gbsh{top:-70px!important}",s="@media (max-width:700px) {.fv.tTwEpb,.lQ{max-width:60px!important;}.lQ>ul>li{text-overflow:clip!important;}.M .bz{margin-left: 82px!important;}.M .a1{margin-left: 82px!important;}.M :not(.a1)>*>.dw{padding-left: 82px!important;}li.bR{display: none;}.ig{text-overflow: inherit;}}";e.textContent=".oin9Fc{padding-top:0!important;padding-bottom:0!important;}.cM{min-width:250px!important;}.cM.bz{margin-left: auto;margin-right: auto;max-width: 94vw;}  .M .bz{margin-left: 242px !important;margin-right: 24px!important;}.X{margin-left:21px; margin-right:20px;} .gb_9a{padding-right:15px!important}"+t+n+a+i+o+s,document.documentElement.appendChild(e)},n=function(){var t=window.MutationObserver||window.WebKitMutationObserver,n=new t(function(t){t.forEach(function(t){if(t.addedNodes.length>0&&a(t.addedNodes[0])){e.jstcacheIteration>0&&(e.isNewEmailReady=!0,r(),o());var n=t.addedNodes[0].getAttribute("jstcache");return void(e.jstcacheForNewEmailWindow=n)}if(t.removedNodes.length>0){e.jstcacheIteration++;var i=t.removedNodes[0].getAttribute("jstcache");i==e.jstcacheForNewEmailWindow&&e.jstcacheIteration>1&&webkit.messageHandlers.windowShouldCloseCallBack.postMessage("")}})}),i=document.getElementById(e.classForNewEmailDivContainer);n.observe(i,{childList:!0})},a=function(e){var t=e.getElementsByTagName("iframe");return t>0?!1:!0},i=function(){var e=document.createElement("div");e.setAttribute("id","madbirdiescovernewemailarea");var t="position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background-color: rgba(255,255,255,1); z-index:9;";e.setAttribute("style",t),document.documentElement.appendChild(e);var n=document.createElement("style");n.setAttribute("id","madbirdiesFullWindowEmailCompo"),n.textContent="body{overflow:hidden!important}.ae{min-height: calc(100vh - 100px) !important;max-height: calc(100vh - 100px) !important;height:calc(100vh - 100px) !important;}.k{right:-102px!important;min-width:100vw;min-height:100vh;z-index:20;}.Ut6z6b,.jB,img.tb,.rs.k2{display:none!important}.pr>.IB{display:none!important}#madbirdiestitlebar{line-height: 0;font-size: 13px;font-weight:500;margin-top:10px;text-align: center;}",document.documentElement.appendChild(n)},o=function(){if(0!=e.titleForNewWindowMessage.length){var t=document.getElementsByClassName("pr")[0];if(t){var n=document.createElement("p");n.setAttribute("id","madbirdiestitlebar"),n.textContent=e.titleForNewWindowMessage,t.appendChild(n),e.titleForNewWindowMessage=""}}},s=function(){var e=document.createElement("style");e.setAttribute("id","madbirdiesManagewaitingbox"),e.textContent="#Hg{display:none!important} #madbirdieswaiting{bottom: calc(50% + 15px);left: calc(50% - 50px);position: fixed;z-index: 50;font-family:helvetica;}",document.documentElement.appendChild(e);var t=document.createElement("div");t.setAttribute("id","madbirdieswaiting"),t.innerHTML='<div id=“madbirdieswaiting”><div class="sf"><span class="loadingSpinner"></span><span>Loading...</span></div></div>',document.documentElement.appendChild(t)},r=function(){var e=document.getElementById("madbirdieswaiting");e.parentNode.removeChild(e);var t=document.getElementById("madbirdiesManagewaitingbox");t.parentNode.removeChild(t)},l=function(){var t=document.getElementsByClassName(e.classForBtnNewMessage)[0];return t?void c():void setTimeout(l,100)},c=function(){var t=document.getElementById(e.classForNewEmailDivContainer);return t?(n(),void d()):void setTimeout(c,100)},d=function(){if(!e.isNewEmailReady){var t=document.getElementsByClassName(e.classForBtnNewMessage)[0];t.click(),setTimeout(d,1e3)}};e.prepareNewMessageFullWindowStyle=function(t){s(),e.titleForNewWindowMessage=t,l(),i()};var m=function(){var e={};e.userID=u(),webkit.messageHandlers.userForUnReadCallBackHandler.postMessage(JSON.stringify(e))},u=function(){var e=window.location.pathname,t=isNaN(e[3])?"0":e[3];return 1*t},g=function(){p(),y(),e.accountsAvailable(),m()},p=function(){var t=window.MutationObserver||window.WebKitMutationObserver,n=new t(function(t){t.forEach(function(t){if("aria-expanded"==t.attributeName){var n=t.target.getAttribute("aria-expanded"),a=document.getElementsByClassName(e.classForGplusBehaviorInner)[0];"false"==n?a.setAttribute("style","display:none!important;"):a.setAttribute("style","")}})}),a=document.getElementsByClassName(e.classForGplusBehaviorOutter)[0];a&&n.observe(a,{attributes:!0})},b=function(){document.documentElement.addEventListener("click",function(e){f(e)},!0)},f=function(e){var t=e.target||e.srcElement,n=t.closest("a");if(n)v("A",n.getAttribute("href"));else{for(var a,i=0;!a;)a=t.getAttribute("jsaction"),t=t.parentElement,i++,i>6&&(a="none"),t||(a="none");a.indexOf("pre_toggle_item")>-1&&setTimeout(webkit.messageHandlers.forceUnReadCallBackHandler.postMessage(""),5e3)}},v=function(e,t){try{var n={};n.action="click",n.linktype=e,n.href=t,webkit.messageHandlers.clickAnchorCallBackHandler.postMessage(JSON.stringify(n))}catch(a){console.log("The native context does not exist yet")}},h=function(){var t=JSON.parse;JSON.parse=function(n){var a=t(n);try{if(n.length>9&&'[[["cmn"'==n.substring(0,8)){var i={},o=a[0][0][1],s=t(o);s[6].indexOf("^i")>-1&&(i.sender=s[9],i.title=s[7],i.message=s[8],e.newUnreadMessageSinceLastCheck++,w(i))}}catch(r){console.log("error interceptJson")}return a}},w=function(e){try{webkit.messageHandlers.newEmailCallBackHandler.postMessage(JSON.stringify(e))}catch(t){console.log("error processNewComingEmail "+t)}};e.actionSend=function(){var t=document.getElementById(e.classForNewEmailDivContainer),n=t.getElementsByClassName(e.classForNewMessagePanel);if(n){for(var a,i=0,o=0;o<n.length;o++){var s=n[o].getAttribute("style");if(s){s=s.replace("z-index:",""),s=s.replace(";","");var r=parseInt(s);r>=i&&(i=r,a=n[o])}}if(a){var l=a.getElementsByClassName("sY")[0];if(l){var c=l.getAttribute("jsaction");c&&c.indexOf(".send")>-1&&l.click()}}}},e.actionReply=function(){var e=E();e&&B(e,"quick_compose_reply")},e.actionForward=function(){var e=E();e&&B(e,"quick_compose_forward")},e.actionArchive=function(){var e=E();e&&B(e,"global.archive")},e.actionSnooze=function(){var e=E();e&&B(e,"toggle_snooze_menu")},e.actionPin=function(){var e=E();e&&B(e,"click:global.pin")},e.actionMovetoTrash=function(){var e=E();e&&B(e,"click:global.trash")};var E=function(){for(var e=document.getElementsByClassName("scroll-list-section-body"),t=null,n=0;n<e.length;n++)for(var a=e[n].getElementsByClassName("scroll-list-item"),i=0;i<a.length;i++)if("true"==a[i].getAttribute("aria-expanded")){var t=a[i];return t}return t},y=function(){var e=document.createElement("li");e.setAttribute("id","madbirdiesFakeActionElement"),e.setAttribute("style","position:fixed;left:0;top:0;"),document.documentElement.appendChild(e)},B=function(e,t){var n=document.getElementById("madbirdiesFakeActionElement");n||y(),"toggle_snooze_menu"==t?t=C(e,t,"iK nL"):"quick_compose_forward"==t?t=C(e,t,"dX"):"quick_compose_reply"==t&&(t=C(e,"quick_compose_forward","dX"),t=t.replace("quick_compose_forward","quick_compose_popout_mole"),console.log("action: "+t)),n.setAttribute("aria-disabled","false"),n.setAttribute("data-action-data",e.getAttribute("data-action-data")),n.setAttribute("jsaction",t);var a=e.getElementsByClassName("iK nL")[0];a&&a.appendChild(n),n.click()},C=function(e,t,n){var a=e.getElementsByClassName(n)[0];if(a)for(var i=0;i<a.childNodes.length;i++){var o=a.childNodes[i].getAttribute("jsaction");if(o&&o.indexOf(t)>-1)return o}};e.openInbox=function(){x("[1,[[4,0,null,null,0]]]")},e.openSnoozed=function(){x("[1,[[11,0,null,null,0]]]")},e.openDone=function(){x("[1,[[2,0,null,null,0]]]")},e.openReminders=function(){x("[1,[[5,0,null,null,0]]]")},e.openDraft=function(){x("[1,[[3,0,null,null,0]]]")},e.openSent=function(){x("[1,[[7,0,null,null,0]]]")},e.openSettings=function(){N("global.app_settings_open")},e.openContact=function(){N("global.click_contacts_menu_item")};var N=function(t){for(var n=document.getElementsByClassName(e.classForSidebarElements),a=0;a<n.length;a++)if(n[a].getAttribute("jsaction")==t){n[a].click();break}},x=function(t){for(var n=document.getElementsByClassName(e.classForSidebarElements),a=0;a<n.length;a++)if(n[a].dataset.actionData==t){n[a].click();break}};e.openHideSidebar=function(){var t=document.getElementsByClassName(e.classForBtnHideSidebar)[0];t.click()},e.openSearch=function(){var t=document.getElementsByClassName(e.classForBtnOpenSearcg)[0];t.click()},e.openNewMessage=function(){var t=document.getElementsByClassName(e.classForBtnNewMessage)[0];t.click()},e.openHelp=function(){var t=document.getElementsByClassName(e.classForBtnHelp)[0];t.click()},e.addAccount=function(){var t;for(var n in e.classForAddAccount)if(t=document.getElementsByClassName(e.classForAddAccount[n])[0])return void t.click()},e.toogleMiniSidebar=function(){var e=document.getElementById("madbirdiesminiSideBarStyle");e?(webkit.messageHandlers.minibarCallBack.postMessage("0"),e.parentElement.removeChild(e)):(M(),webkit.messageHandlers.minibarCallBack.postMessage("1"))},e.setMiniSidebarState=function(e){var t=document.getElementById("madbirdiesminiSideBarStyle");t?0==e&&(webkit.messageHandlers.minibarCallBack.postMessage("0"),t.parentElement.removeChild(t)):1==e&&(M(),webkit.messageHandlers.minibarCallBack.postMessage("1"))},e.toogleBigCompo=function(){var e=document.getElementById("madbirdiesBigEmailCompo");e?(webkit.messageHandlers.bigCompoCallBack.postMessage("0"),e.parentElement.removeChild(e)):(F(),webkit.messageHandlers.bigCompoCallBack.postMessage("1"))},e.setBigCompoState=function(e){var t=document.getElementById("madbirdiesBigEmailCompo");t?0==e&&(webkit.messageHandlers.bigCompoCallBack.postMessage("0"),t.parentElement.removeChild(t)):1==e&&(F(),webkit.messageHandlers.bigCompoCallBack.postMessage("1"))},e.showHideAttachement=function(e){var t=document.getElementById("madbirdiesshowHideAttachementStyle");t?0==e&&(webkit.messageHandlers.showHideAttachmentCallBack.postMessage("0"),t.parentElement.removeChild(t)):1==e&&(_(),webkit.messageHandlers.showHideAttachmentCallBack.postMessage("1"))},e.accountsAvailable=function(){var e=k();if(e){for(var t={},n=0;n<e.length;n++){var a=A(e[n]);a&&(t[n]=a.innerHTML.replace(" (default)",""))}webkit.messageHandlers.accountsAvailableCallBack.postMessage(JSON.stringify(t))}};var k=function(){for(var t,n=0;n<e.classForAccountsAvailable.length;n++)if(t=document.getElementsByClassName(e.classForAccountsAvailable[n]),t&&0!=t.length)return t},A=function(t){for(var n,a=0;a<e.classForAccountsAvailableEmail.length;a++)if(n=t.getElementsByClassName(e.classForAccountsAvailableEmail[a])[0],n&&0!=n.innerHTML.length)return n},M=function(){var e=document.createElement("style");e.setAttribute("id","madbirdiesminiSideBarStyle"),e.textContent=".fv.tTwEpb,.lQ{max-width:60px!important;}.lQ>ul>li{text-overflow:clip!important;}.M .bz{margin-left: 82px!important;}.M .a1{margin-left: 82px!important;}.M :not(.a1)>*>.dw{padding-left: 82px!important;}li.bR{display: none;}.ig{text-overflow: inherit;}",document.documentElement.appendChild(e)},F=function(){var e=document.createElement("style");e.setAttribute("id","madbirdiesBigEmailCompo"),e.textContent=".ae{height: 100vw !important;}.k{width: calc(100vw - 200px);}",document.documentElement.appendChild(e)},_=function(){var e=document.createElement("style");e.setAttribute("id","madbirdiesshowHideAttachementStyle"),e.textContent=".hU{display:none!important}",document.documentElement.appendChild(e)};e.urlSchemeHandler=function(t){var n=madbirdiesmailtoParse.parse(t,!0),a={};a.to=n.to,a.subject=n.attributeKey.body,a.body=n.attributeKey.subject,e.newMessagePanelsBefore=document.getElementsByClassName(e.classForNewMessagePanel);var i=document.getElementsByClassName(e.classForBtnNewMessage)[0];i.click(),setTimeout(function(){H(a)},1e3)};var H=function(t){var n,a=document.getElementsByClassName(e.classForNewMessagePanel),i=[],o=[];try{for(var s,r=0;s=a[r];++r)i.push(s);for(var l,c=0;l=e.newMessagePanelsBefore[c];++c)o.push(l)}catch(d){}for(var r=0;r<i.length;r++)-1==o.indexOf(i[r])&&(n=i[r]);if(n||(n=a[0]),n){for(var m=n.getElementsByTagName("input"),u=[],g=[],r=0;r<m.length;r++)"To"==m[r].getAttribute("aria-label")?u.push(m[r]):"Subject"==m[r].getAttribute("title")&&g.push(m[r]);try{u[0]&&t.to&&(u[0].focus(),u[0].value=t.to+""),g[0]&&(g[0].focus(),t.subject&&(g[0].value=t.subject+"")),n.getElementsByClassName(e.classForBody)[0].childNodes[1].focus()}catch(d){}}};return e}madbirdiesGeneInstance=new madbirdiesGene,madbirdiesGeneInstance.init();
