function madbirdiesUserDefaults(){"use strict";var e={};return e.saveUserDefaults=function(e,t){var a=new Date;a.setTime(a.getTime()+31536e7);var n="; expires="+a.toGMTString();document.cookie=e+"="+t+n+"; path=/;domain=google.com"},e.getUserDefaults=function(e){for(var t=e+"=",a=document.cookie.split(";"),n=0;n<a.length;n++){for(var r=a[n];" "==r.charAt(0);)r=r.substring(1,r.length);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return null},e.deleteUserDefaults=function(e){document.cookie=e+"=; path=/;domain=google.com"},e}function madbirdiesInboxDOMElements(){"use strict";var e={};return e.classForNewEmailDivContainer="OPOhoe",e.classForNewEmailFullScreenDivContainer="L2fznf",e.classForGplusBehaviorOutter="nPQzwd",e.classForGplusBehaviorInner="jn",e.classForSidebarElements="oin9Fc",e.classForBtnOpenSearcg="gc",e.classForBtnHideSidebar="aO",e.classForBtnNewMessage="bY",e.classForBtnHelp="oCKk2",e.classForAccountsAvailable=["gb_vb"],e.classForAccountsAvailableEmail=["gb_Cb"],e.classForAddAccount=["gb_ee"],e.classForShowHideAttachement="hU",e.classForNewMessagePanel="lK",e.classForBody="n7",e.classForNewWindowMessage="xr",e.classForNewWindowMessageInner="nH",e.classForSubject="iO",e.labelForBody="Body",e.classForRegularInboxBarAsFrom="kC",e.classBaseForButton="p2 IB",e.classForSidebar="lQ",e.classForTopbar="hn",e.classForTopbarSearch="bB",e}function madbirdiesFocusFixer(){"use strict";var e={};e.madActiveSelection={},e.targetLabel="Body",e.init=function(){t()};var t=function(){HTMLElement.prototype.focus=function(t){return function(){try{this.getAttribute("aria-label")==e.targetLabel&&n(this)}catch(a){console.log("ERROR modifyFocusUnFocus: "+a)}return t.apply(this,arguments)}}(HTMLElement.prototype.focus),document.addEventListener("mousedown",a,!0),document.addEventListener("keydown",a,!0)},a=function(t){t.target;try{if(document.activeElement.getAttribute("aria-label")==e.targetLabel){var a=window.getSelection();e.madActiveSelection.anchorNode=a.anchorNode,e.madActiveSelection.focusNode=a.focusNode,e.madActiveSelection.start=a.anchorOffset,e.madActiveSelection.end=a.focusOffset,e.madActiveSelection.activeElement=document.activeElement}}catch(n){console.log("ERROR registerCaretPosition:"+n)}},n=function(t){try{if(document.activeElement.getAttribute("aria-label")==e.targetLabel){if(e.madActiveSelection.activeElement!=document.activeElement)return;var a=document.createRange();a.setStart(e.madActiveSelection.anchorNode,e.madActiveSelection.start),a.setEnd(e.madActiveSelection.focusNode,e.madActiveSelection.end);var n=window.getSelection();n.removeAllRanges(),n.addRange(a)}}catch(r){console.log("ERROR elementGotFocus:"+r)}};return e.init(),e}function madbirdiesThemes(){"use strict";var e={};e.userDefaults=new madbirdiesUserDefaults,e.DOMClasses=new madbirdiesInboxDOMElements,e.isIconSidebarMonoChromatic=0,e.themeselection={},e.themeselection.classic=0,e.themeselection.white=1,e.themeselection.dark=2,e.themeselection.darkwhite=3,e.themeselection.darkregular=4,e.themeselection.topdarkbar=5,e.themeselection.custom=6,e.themeselection.lastselection=0,e.themeselection.customcolor="rgb(240,240,250)",e.themestopbar={},e.themessidebar={},e.themesmain={},e.themesscrollbar={},e.themestopbar.isDark=0,e.themestopbar.isDarkInvert=0,e.themessidebar.iconmono="";var t=function(e,t){var a=e.split(","),n=0>t?0:255,r=0>t?-1*t:t,i=parseInt(a[0].slice(4)),o=parseInt(a[1]),s=parseInt(a[2]);return"rgb("+(Math.round((n-i)*r)+i)+","+(Math.round((n-o)*r)+o)+","+(Math.round((n-s)*r)+s)+")"},a=function(t){if(t==e.themeselection.classic||t==e.themeselection.darkregular)return"";var a="";return t==e.themeselection.white||t==e.themeselection.darkwhite?a=".aa::before, .an::before, .hn:before,.ey,.b2{box-shadow: 0 -1px 0 #e5e5e5, 0 0 0px rgba(0, 0, 0, .12), 0 0px 2px rgba(0, 0, 0, .24)!important;}.lQ{border-right: 1px solid rgba(0, 0, 0, 0.05);}":(t==e.themeselection.dark||t==e.themeselection.topdarkbar)&&(a=".aa::before, .an::before, .hn:before,.ey,.b2{box-shadow: 0 -1px 0 rgba(0,0,0,0.01), 0 0 0px rgba(0, 0, 0, .82), 0 0px 1px rgba(0, 0, 0, .24)!important;}.lQ{border-right: 1px solid rgba(0, 0, 0, 0.05);}"),a},n=function(t){if(t==e.themeselection.classic)return"";var a="";return a=".M .r{border-radius:none!important;box-shadow:none!important;background-color:transparent!important;} .aF,.as{color: #888!important}"},r=function(a){var n="",r="",i="",o="",s="",l="",c="",d=function(t){t==e.themeselection.white?(e.themessidebar.labelColor="rgba(0,0,0,1)",e.themessidebar.secondaryColor="rgba(40,40,40,1)",e.themessidebar.tertiaryColor="rgba(60,60,60,1)",e.themessidebar.quarteryColor="rgba(90,90,90,1)",e.themessidebar.isDark=0,e.themessidebar.backgroundPrimaryColor="rgba(248,248,248,1)",e.themessidebar.backgroundSecondaryColor="rgba(0,0,0,0.1)",e.themessidebar.backgroundSecondaryColorHover="rgba(0,0,0,0.05)",e.themessidebar.backgroundTertiaryColor="rgba(100,100,100,1)",e.themessidebar.backgroundQuarteryColor="rgba(120,120,120,1)",e.themesscrollbar.color="rgba(0,0,0,0.5)"):t==e.themeselection.dark&&(e.themessidebar.labelColor="rgba(255,255,255,1)",e.themessidebar.secondaryColor="rgba(235,235,235,1)",e.themessidebar.tertiaryColor="rgba(215,215,215,1)",e.themessidebar.quarteryColor="rgba(195,195,195,1)",e.themessidebar.isDark=1,e.themessidebar.backgroundPrimaryColor="rgba(36,47,57,1)",e.themessidebar.backgroundSecondaryColor="rgba(0,0,0,0.3)",e.themessidebar.backgroundSecondaryColorHover="rgba(0,0,0,0.1)",e.themessidebar.backgroundTertiaryColor="rgba(100,100,100,1)",e.themessidebar.backgroundQuarteryColor="rgba(120,120,120,1)",e.themesscrollbar.color="rgba(255,255,255,0.5)")},m=function(t){t==e.themeselection.white?(e.themestopbar.backgroundPrimaryColor="rgba(252,252,252,1)",e.themestopbar.backgroundSecondaryColor="rgba(250,250,250,1)",e.themestopbar.backgroundTertiaryColor="rgba(0,0,0,0.05)",e.themestopbar.labelColor="rgba(0,0,0,0.8)",e.themestopbar.backgroundPinOff="rgba(0,0,0,0.05)",e.themestopbar.backgroundPinOn="rgba(0,0,0,0.08)",e.themestopbar.ColorPin="rgba(252,252,252,1)",e.themestopbar.isDark=1,e.themestopbar.isDarkInvert=0,n=".pr{background-color:"+e.themestopbar.backgroundPrimaryColor+"!important;color:"+e.themestopbar.labelColor+"!important;border-bottom:1px solid rgba(0,0,0,0.05)!important}.wF.l6{background-color: rgba(250, 250, 250, .9)!important}.pr>img, .pr>button{-webkit-filter:invert(1)!important;}"):t==e.themeselection.dark&&(e.themestopbar.backgroundPrimaryColor="rgba(26,37,47,1)",e.themestopbar.backgroundTertiaryColor="rgba(255,255,255,0.08)",e.themestopbar.labelColor="rgba(255,255,255,0.8)",e.themestopbar.backgroundPinOff="rgba(255,255,255,0.05)",e.themestopbar.backgroundPinOn="rgba(255,255,255,0.08)",e.themestopbar.ColorPin="rgba(46,57,67,1)",e.themestopbar.isDark=0,e.themestopbar.isDarkInvert=1,n=".pr{background-color:"+e.themestopbar.backgroundPrimaryColor+"!important;color:"+e.themestopbar.labelColor+"!important;}")};a==e.themeselection.classic&&(e.themessidebar.isDark=0),a==e.themeselection.white?(d(a),m(a),e.themesmain.backgroundPrimaryColor="rgba(248,248,248,1)"):a==e.themeselection.dark?(d(a),m(a),e.themesmain.backgroundPrimaryColor="rgba(245,245,245,1)"):a==e.themeselection.darkwhite?(d(e.themeselection.dark),m(e.themeselection.white),e.themesmain.backgroundPrimaryColor="rgba(245,245,245,1)"):a==e.themeselection.topdarkbar?(d(e.themeselection.white),m(e.themeselection.dark),e.themesmain.backgroundPrimaryColor="rgba(248,248,248,1)"):a==e.themeselection.darkregular?d(e.themeselection.dark):a==e.themeselection.custom&&(e.themessidebar.backgroundPrimaryColor=e.themeselection.customcolor,e.themesmain.backgroundPrimaryColor=e.themeselection.customcolor,e.themestopbar.backgroundPrimaryColor=t(e.themeselection.customcolor,-.03),e.themestopbar.backgroundSecondaryColor=t(e.themeselection.customcolor,-.06),e.themestopbar.backgroundTertiaryColor="rgba(0,0,0,0.05)",e.themestopbar.backgroundPinOff="rgba(0,0,0,0.05)",e.themestopbar.backgroundPinOn="rgba(0,0,0,0.08)",e.themestopbar.ColorPin=e.themestopbar.backgroundPrimaryColor,e.themestopbar.isDark=1,e.themestopbar.isDarkInvert=0,n=".pr{background-color:"+e.themestopbar.backgroundPrimaryColor+"!important;border-bottom:1px solid rgba(0,0,0,0.05)!important}.wF.l6{background-color: rgba(250, 250, 250, .9)!important}.pr>img, .pr>button{-webkit-filter:invert(1)!important;}");var u="."+e.DOMClasses.classForSidebar,p="."+e.DOMClasses.classForTopbar,b="."+e.DOMClasses.classForTopbarSearch,g="";return 1==e.isIconSidebarMonoChromatic?0==e.themessidebar.isDark?e.themessidebar.iconmono=""+u+" img{-webkit-filter: sepia(1)grayscale(1)brightness(0.65)!important;}":e.themessidebar.iconmono=""+u+" img{-webkit-filter: sepia(1)grayscale(1)brightness(0.45)invert(1)!important;}":e.themessidebar.iconmono="",a!=e.themeselection.classic?(r=""+u+"{transition: background .15s; background:"+e.themessidebar.backgroundPrimaryColor+"!important;color:"+e.themessidebar.secondaryColor+"!important;}.hA,.dK{color:"+e.themessidebar.labelColor+"!important;background:"+e.themessidebar.backgroundSecondaryColor+"!important;}.cN:hover,.cQ:hover{background:"+e.themessidebar.backgroundSecondaryColorHover+"!important;}.Y{border-bottom: 1px solid "+e.themessidebar.backgroundSecondaryColor+"!important} .gN,.gg{-webkit-filter: invert("+e.themessidebar.isDark+")!important;}",i=".ai-b8-bQ{background-color:transparent!important}body{background-color:"+e.themesmain.backgroundPrimaryColor+"!important;}",a!=e.themeselection.darkregular&&(o=""+p+"{background:"+e.themestopbar.backgroundPrimaryColor+"!important}.qz{background:rgba(255,255,255,0.15)!important;}"+p+",.at::before{box-shadow: none!important;}.at{background-color: transparent !important;}.te{background:"+e.themestopbar.backgroundTertiaryColor+"!important;}.gc{background:transparent!important;}.hn ::-webkit-input-placeholder{opacity:0.3!important}",s=""+p+" span,"+p+" .bl,"+p+" div>img,"+p+" div>input{-webkit-filter: invert("+e.themestopbar.isDark+")!important;}"+p+" .b2.bM>img{-webkit-filter:invert(0)!important}"+b+" .f9, "+b+" span,"+b+" div>img,"+b+" div>input{-webkit-filter: invert("+e.themestopbar.isDarkInvert+")!important;}",l=".gH{background-color:"+e.themestopbar.backgroundPinOff+"!important}.o1>.gH{background-color:"+e.themestopbar.backgroundPinOn+"!important}.b2{background-color:"+e.themestopbar.ColorPin+"!important;}.b2.bM{background-color:"+e.themestopbar.ColorPin+"!important;}"),c=""+u+"::-webkit-scrollbar-thumb{background:"+e.themesscrollbar.color+"!important;border-radius: 7px;}",g=".I{background-color:transparent!important;}"+r+i+c+o+s+l+n+e.themessidebar.iconmono):g=e.themessidebar.iconmono,g};return e.selectTheme=function(t){e.themeselection.lastselection=t,e.userDefaults.saveUserDefaults("madbirdiesSelectedTheme",t);var i="madbirdiesTheme",o=document.getElementById(i);o&&o.parentElement.removeChild(o);var s=document.createElement("style");s.setAttribute("id",i),s.textContent=r(t)+a(t)+n(t),document.documentElement.appendChild(s)},e.setIsIconSidebarMonoChromatic=function(t){e.isIconSidebarMonoChromatic!=t&&(e.isIconSidebarMonoChromatic=t,e.userDefaults.saveUserDefaults("madbirdiesThemeMonoChromatic",e.isIconSidebarMonoChromatic),e.selectTheme(e.themeselection.lastselection))},e.loadPreferences=function(){var t=e.userDefaults.getUserDefaults("madbirdiesSelectedTheme");t||(t=0);var a=e.userDefaults.getUserDefaults("madbirdiesThemeMonoChromatic");a||(a=0),e.isIconSidebarMonoChromatic=a,e.selectTheme(t)},e}function madbirdiesExtra(){"use strict";function e(){var e=(new Date).getTime(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var a=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?a:3&a|8).toString(16)});return t}var t={};t.currentAccountsAvailables={},t.userDefaults=new madbirdiesUserDefaults,t.dummyIdentifier="11111111-2203-1111-1111-111111111111",t.DOMClasses=new madbirdiesInboxDOMElements,t.currentSelectedAccount="",t.currentTemplates=[],t.currentSignatures=[],t.classForExtraMadbirdie="madBirdieExtra",t.titleMenu1="Templates",t.titleMenu2="Signatures";var a=function(){document.documentElement.addEventListener("click",function(e){h(e)},!0);var e=document.createElement("style");e.setAttribute("id","madbirdiesExtraStyle");var t=".madBirdieExtra{overflow:visible!important;padding-top:0!important;padding-bottom:0!important;cursor:default!important;} .maddropdown{position:relative!important;float: right!important;display: inline-block!important;} .madbutton{width:auto!important;margin-right:-6px!important;margin-left:15px!important;} .madbutton:active{color: black!important;} .spantitle{top:-7px!important;position:relative!important;padding-left: 8px!important;}",a=".madDropdown-content{padding-top:6px;position:absolute;right:0px;top:30px;height:auto;width:260px;min-height:125px;max-height:125px;overflow:scroll;overflow-x:hidden;border:1px solid rgba(0, 0, 0, 0.2);background-color:rgba(252, 252, 252, 1);border-radius:4px;box-shadow:0 1px 4px rgba(0, 0, 0, .12);z-index:1;} .dropHide{display:none;} .dropShow{display:block;}",n='.madMenuItem{cursor:pointer; width: 100%;max-height: 25px;line-height: 25px;display: block;border-bottom: 1px solid rgba(0, 0, 0, 0);text-decoration: none;color: rgba(0, 0, 0, 1);overflow: hidden;} .madMenuItemTitle{margin-left:20px; max-width: calc(100% - 45px);display: block;max-height: 100%;} .madMenuItem:hover{background-color:#3a91f9;color:white;} .madMenuItemTitle:hover{color:white} .madMenuItemDelete{position: absolute;top: 0;right: 0;height: 100%;width:25px;text-align: center; opacity:0.1;} .madMenuItemDelete:hover{opacity:1;} .madMenuItemAdd{cursor:pointer;margin-left: 35px;line-height: 25px;height: 25px;padding-left: 10px;padding-right: 10px;margin-top: 15px;margin-bottom: 15px;display: inline-block;background-color: rgba(80, 130, 200, 1);border-radius: 2px;border: 1px solid rgba(0, 0, 0, 0.1);text-decoration: none;color: rgba(255, 255, 255, 1);}.madMenuItemAdd:hover{color: rgba(255, 255, 255, 1);}.madMenuItemSelect{position:absolute;left:0;width: 20px;height:100%;background-image: url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" version="1.1" x="0px" y="0px" width="20px" height="25px" viewBox="0 0 200 250"><path d="M 144.41,75.93 C 147.84,77.84 149.02,82.07 147.04,85.37 147.04,85.37 101.41,161.44 96.4,169.8 96.08,170.49 95.64,171.14 95.08,171.73 94.87,171.94 94.66,172.13 94.44,172.31 92.19,174.19 88.86,174.59 86.14,173.07 85.26,172.58 84.53,171.94 83.96,171.2 78.55,166.35 52.14,142.64 52.14,142.64 49.89,140.62 49.29,137.54 50.39,134.95 50.71,134.2 51.18,133.5 51.78,132.87 54.49,130.08 59.04,129.92 61.94,132.53 61.94,132.53 78.51,147.4 88.08,156 100.62,135.1 134.59,78.46 134.59,78.46 136.58,75.15 140.97,74.02 144.41,75.93 Z M 144.41,75.93" fill="#000"/></svg>\');background-repeat:no-repeat;visibility:hidden;}';e.textContent=t+a+n,document.documentElement.appendChild(e)};t.addNewExtraForAccount=function(e){var a=e.getElementsByClassName(t.DOMClasses.classForSubject);if(0!=a.length){var r=e.getElementsByClassName(t.classForExtraMadbirdie);0==r.length&&n(e)}};var n=function(e){var a=e.getElementsByClassName(t.DOMClasses.classForSubject)[0],n=document.createElement("div");n.setAttribute("class",t.DOMClasses.classForRegularInboxBarAsFrom+" "+t.classForExtraMadbirdie);var o=i(a,t.titleMenu1),s=i(a,t.titleMenu2);n.appendChild(o),n.appendChild(s),a.parentElement.insertBefore(n,a),l(t.titleMenu1),l(t.titleMenu2),r(n)},r=function(e){for(var a=0;a<t.currentSignatures.length;a++)t.currentSignatures[a].isSelected&&C(t.titleMenu2,t.currentSignatures[a].identifier,e)},i=function(e,a){var n=document.createElement("div");n.setAttribute("class","maddropdown"),n.setAttribute("data-identity",a);var r=document.createElement("button");r.setAttribute("class",t.DOMClasses.classBaseForButton+" madbutton");var i=document.createElement("span");i.setAttribute("class","spantitle"),i.innerHTML=a;var l=document.createElement("img");l.setAttribute("class","madImgclass");var c=o(e);if(c.length>0)for(var d=0;d<c.length;d++)l.setAttribute(c[d].name,c[d].value);return r.appendChild(i),r.appendChild(l),n.appendChild(r),n.appendChild(s(a)),n},o=function(e){var a=[],n=e.parentNode.getElementsByClassName(t.DOMClasses.classBaseForButton)[0];if(!n)return[];var r=n.getElementsByTagName("img")[0];return r?a=r.attributes:[]},s=function(e){var t=document.createElement("div");return t.setAttribute("class","madDropdown-content dropHide"),t.setAttribute("data-dropdown","madDropdown-content-"+e),t},l=function(e){for(var t=document.querySelectorAll('[data-dropdown="madDropdown-content-'+e+'"]'),a=0;a<t.length;a++){var n=s(e);m(n,e),c(n,t[a])}},c=function(e,t){var a=t.parentElement;a.insertBefore(e,t),a.removeChild(t)},d=function(e){var a=[];return e==t.titleMenu1&&(a=t.currentTemplates),e==t.titleMenu2&&(a=t.currentSignatures),a},m=function(e,t){for(var a=d(t),n=0;n<a.length;n++){var r=a[n].name,i=a[n].identifier,o=a[n].isSelected;e.appendChild(u(r,t,i,o))}e.appendChild(p(t))},u=function(e,t,a,n){var r=document.createElement("a");r.setAttribute("class","madMenuItem"),r.setAttribute("data-identifier",a),r.setAttribute("data-menu",t),r.setAttribute("data-action","select");var i=document.createElement("div");i.setAttribute("class","madMenuItemSelect"),i.setAttribute("data-identifier",a),i.setAttribute("data-menu",t),i.setAttribute("data-action","select"),n&&i.setAttribute("style","visibility:visible!important");var o=document.createElement("span");o.setAttribute("class","madMenuItemTitle"),o.setAttribute("data-identifier",a),o.setAttribute("data-menu",t),o.setAttribute("data-action","select"),o.innerHTML=e;var s=document.createElement("div");return s.setAttribute("class","madMenuItemDelete"),s.setAttribute("data-identifier",a),s.setAttribute("data-menu",t),s.setAttribute("data-action","delete"),s.innerHTML="x",r.appendChild(i),r.appendChild(o),r.appendChild(s),r},p=function(e){var a=document.createElement("a");return a.setAttribute("class","madMenuItemAdd"),a.setAttribute("data-identifier","-1"),a.setAttribute("data-menu",e),a.setAttribute("data-action","add"),e==t.titleMenu1&&(a.innerHTML="Save this email as a template"),e==t.titleMenu2&&(a.innerHTML="Save this email as a signature"),a},b=function(e){var t=e.target||e.srcElement,a=t.parentNode.parentNode.getElementsByClassName("madDropdown-content")[0],n=a.getAttribute("class");"madDropdown-content dropHide"==n?a.setAttribute("class","madDropdown-content dropShow"):a.setAttribute("class","madDropdown-content dropHide")},g=function(e){var a=e.target||e.srcElement,n=a.getAttribute("data-identifier");if(n)return f(a),null;var r=a.parentNode;if(!r)return null;if(r=r.parentNode,!r)return null;var i=r.getAttribute("data-identity");if(!i)return null;if(i!=t.titleMenu1&&i!=t.titleMenu2)return null;var o=r.getElementsByClassName("madDropdown-content");return 0==o.length?null:o[0]},h=function(e){var t=(e.target||e.srcElement,g(e));t&&b(e);var a=document.getElementsByClassName("madDropdown-content dropShow");if(0!=a.length)for(var n=0;n<a.length;n++)a[n]!=t&&a[n].setAttribute("class","madDropdown-content dropHide")},f=function(e){var t=e.getAttribute("data-identifier"),a=e.getAttribute("data-menu"),n=e.getAttribute("data-action"),r=M(e);if("add"==n){if(!r)return;v(e,r)}else if("select"==n){if(!r)return;C(a,t,r)}else"delete"==n&&y(a,t)},v=function(a,n){var r=a.getAttribute("data-menu"),i=n.querySelector('[aria-label="'+t.DOMClasses.labelForBody+'"]');if(i){var o="Untitled",s=i.innerHTML;s.length<5&&(s="");var l=n.getElementsByClassName(t.DOMClasses.classForSubject)[0];if(l&&(l=l.getElementsByTagName("input")[0]),l&&(o=0!=l.value.length?l.value:l.title),""!=s){var c={};c.contentToSave=s,c.name=o,c.menu=r,c.identifier=e();try{var d=t.currentAccountsAvailables[t.currentSelectedAccount];d&&(c.account=d)}catch(m){}webkit.messageHandlers.savetemplate.postMessage(JSON.stringify(c)),w(c)}}},w=function(e){var a={};a.html=e.contentToSave,a.identifier=e.identifier,a.name=e.name,e.menu==t.titleMenu1&&t.currentTemplates.push(a),e.menu==t.titleMenu2&&t.currentSignatures.push(a),l(e.menu)},C=function(e,a,n){try{n=n.parentElement;var r=n.getElementsByClassName(t.DOMClasses.classForBody)[0];if(r=r.getElementsByClassName("editable")[0],!r)return;r.focus(),e==t.titleMenu2&&(k(r),x(e,a));var i={};i.menu=e,i.identifier=a;var o=t.currentAccountsAvailables[t.currentSelectedAccount];o&&(i.account=o),webkit.messageHandlers.insertHTMLFor.postMessage(JSON.stringify(i))}catch(s){console.log("error: "+s)}},x=function(e,a){if(a!=t.dummyIdentifier){for(var n=0;n<t.currentSignatures.length;n++)t.currentSignatures[n].identifier==a?t.currentSignatures[n].isSelected=!0:t.currentSignatures[n].isSelected=!1;l(e)}},k=function(e){if("undefined"!=typeof window.getSelection&&"undefined"!=typeof document.createRange){var t=document.createRange();t.selectNodeContents(e),t.collapse(!1);var a=window.getSelection();a.removeAllRanges(),a.addRange(t)}else if("undefined"!=typeof document.body.createTextRange){var n=document.body.createTextRange();n.moveToElementText(e),n.collapse(!1),n.select()}},y=function(e,a){var n={};n.identifier=a,n.menu=e;try{var r=t.currentAccountsAvailables[t.currentSelectedAccount];r&&(n.account=r)}catch(i){}webkit.messageHandlers.deleteDataFor.postMessage(JSON.stringify(n)),A(n.identifier,n.menu),l(n.menu)},A=function(e,a){var n=[];a==t.titleMenu1&&(n=t.currentTemplates),a==t.titleMenu2&&(n=t.currentSignatures);for(var r=[],i=0;i<n.length;i++)n[i].identifier!=e&&r.push(n[i]);a==t.titleMenu1&&(t.currentTemplates=r),a==t.titleMenu2&&(t.currentSignatures=r)},M=function(e){for(var a=e,n=a.getAttribute("class");a;){if(n.indexOf(t.classForExtraMadbirdie)>-1)return a=a.parentElement;a=a.parentElement,n=a.getAttribute("class")}return null};return t.setAccountsAvailables=function(e){t.currentAccountsAvailables=e},t.setSelectedAccount=function(e){t.currentSelectedAccount=e},t.setCurrentTemplates=function(e){t.currentTemplates=e,l(t.titleMenu1)},t.setCurrentSignatures=function(e){t.currentSignatures=e,l(t.titleMenu2)},t.setIsExtraActivated=function(e){t.userDefaults.saveUserDefaults("madbirdiesShowExtrabar",e)},t.isExtraActivated=function(e){var a=t.userDefaults.getUserDefaults("madbirdiesShowExtrabar");return a?a=1==a?!0:!1:!1},a(),t}function madbirdiesdetectNewEmails(){"use strict";madbirdiesdetectNewEmails={};var e=function(){t()},t=function(){var e=JSON.parse;JSON.parse=function(t){var r=e(t);try{if(t.length>9&&'[[["cmn"'==t.substring(0,8)){var i={},o=r[0][0][1],s=e(o);if(s[6].indexOf("^i")>-1){i.sender=s[9],i.title=s[7],i.message=s[8];var l=a(s[6]);i.bundletype=l,n(i)}}}catch(c){console.log("error interceptJson:"+c)}return r}},a=function(e){return e.indexOf("sq_ig_i_personal")>-1?"Regular":e.indexOf("^smartlabel_social")>-1?"Social":e.indexOf("^smartlabel_promo")>-1?"Promo":e.indexOf("^smartlabel_finance")>-1?"Finance":e.indexOf("^smartlabel_group")>-1?"Forum":e.indexOf("^smartlabel_pure_notif")>-1?"Updates":e.indexOf("^smartlabel_receipt")>-1?"Purchases":"Regular"},n=function(e){try{webkit.messageHandlers.newEmailCallBackHandler.postMessage(JSON.stringify(e))}catch(t){console.log("error processNewComingEmail "+t)}};return e(),madbirdiesdetectNewEmails}function madbirdiesInboxActions(){"use strict";var e={};e.DOMClasses=new madbirdiesInboxDOMElements,e.actionReply=function(){var e=t();e&&a(e,"quick_compose_reply")},e.actionForward=function(){var e=t();e&&a(e,"quick_compose_forward")},e.actionArchive=function(){var e=t();e&&a(e,"global.archive")},e.actionSnooze=function(){var e=t();e&&a(e,"toggle_snooze_menu")},e.actionPin=function(){var e=t();e&&a(e,"click:global.pin")},e.actionMovetoTrash=function(){var e=t();e&&a(e,"click:global.trash")};var t=function(){for(var e=document.getElementsByClassName("scroll-list-section-body"),t=null,a=0;a<e.length;a++)for(var n=e[a].getElementsByClassName("scroll-list-item"),r=0;r<n.length;r++)if("true"==n[r].getAttribute("aria-expanded")){var t=n[r];return t}return t};e.createElementToReceiveActionFromMenu=function(){var e=document.createElement("li");e.setAttribute("id","madbirdiesFakeActionElement"),e.setAttribute("style","position:fixed;left:0;top:0;color:transparent!important;"),document.documentElement.appendChild(e)};var a=function(t,a){var r=document.getElementById("madbirdiesFakeActionElement");r||e.createElementToReceiveActionFromMenu(),"toggle_snooze_menu"==a?a=n(t,a,"iK nL"):"quick_compose_forward"==a?a=n(t,a,"dX"):"quick_compose_reply"==a&&(a=n(t,"quick_compose_forward","dX"),a=a.replace("quick_compose_forward","quick_compose_popout_mole")),r.setAttribute("aria-disabled","false"),r.setAttribute("data-action-data",t.getAttribute("data-action-data")),r.setAttribute("jsaction",a);var i=t.getElementsByClassName("iK nL")[0];i&&i.appendChild(r),r.click()},n=function(e,t,a){var n=e.getElementsByClassName(a)[0];if(n)for(var r=0;r<n.childNodes.length;r++){var i=n.childNodes[r].getAttribute("jsaction");if(i&&i.indexOf(t)>-1)return i}};e.openInbox=function(){i("[1,[[4,0,0,null,null,0]]]")},e.openSnoozed=function(){i("[1,[[11,0,0,null,null,0]]]")},e.openDone=function(){i("[1,[[2,0,0,null,null,0]]]")},e.openReminders=function(){i("[1,[[5,0,0,null,null,0]]]")},e.openDraft=function(){i("[1,[[3,0,0,null,null,0]]]")},e.openSent=function(){i("[1,[[7,0,0,null,null,0]]]")},e.openSettings=function(){r("global.app_settings_open")},e.openContact=function(){r("global.click_contacts_menu_item")};var r=function(t){for(var a=document.getElementsByClassName(e.DOMClasses.classForSidebarElements),n=0;n<a.length;n++)if(a[n].getAttribute("jsaction")==t){a[n].click();break}},i=function(t){for(var a=document.getElementsByClassName(e.DOMClasses.classForSidebarElements),n=0;n<a.length;n++)if(a[n].dataset.actionData==t){a[n].click();break}};e.openHideSidebar=function(){var t=document.getElementsByClassName(e.DOMClasses.classForBtnHideSidebar)[0];t.click()},e.openSearch=function(){var t=document.getElementsByClassName(e.DOMClasses.classForBtnOpenSearcg)[0];t.click()},e.openNewMessage=function(){var t=document.getElementsByClassName(e.DOMClasses.classForBtnNewMessage)[0];t.click()},e.openHelp=function(){var t=document.getElementsByClassName(e.DOMClasses.classForBtnHelp)[0];t.click()},e.addAccount=function(){var t;for(var a in e.DOMClasses.classForAddAccount)if(t=document.getElementsByClassName(e.DOMClasses.classForAddAccount[a])[0])return void t.click()},e.actionSend=function(){var t=o(),a=!0;if(!t){a=!1;var n=document.getElementById(e.DOMClasses.classForNewEmailDivContainer);if(t=n.getElementsByClassName(e.DOMClasses.classForNewMessagePanel),!t)return}var r,i=0;if(a)r=t[0];else for(var s=0;s<t.length;s++){var l=t[s].getAttribute("style");if(l){l=l.replace("z-index:",""),l=l.replace(";","");var c=parseInt(l);c>=i&&(i=c,r=t[s])}}if(r){var d=r.getElementsByClassName("sY")[0];if(d){var m=d.getAttribute("jsaction");m&&m.indexOf(".send")>-1&&d.click()}}};var o=function(){var t=document.getElementById(e.DOMClasses.classForNewEmailFullScreenDivContainer),a=t.getElementsByClassName(e.DOMClasses.classForNewMessagePanel);return a?0==a.length?null:a:null};return e}function madbirdiesAccounts(){"use strict";var e={};e.customBadgeDefaultID="sekit-unread-badge-user-",e.DOMClasses=new madbirdiesInboxDOMElements,e.callback,e.currentAccount,e.listOfAcountsAvailable,e.setCallBack=function(t){e.callback=t},e.accountsAvailable=function(){var a=n();return a?void t():void setTimeout(e.accountsAvailable,500)};var t=function(){var t=n();if(t){for(var r={},s=0;s<t.length;s++){var l=i(t[s]);if(l){a(l,s);var c=l.innerHTML,d=c.split(" ");r[s]=d[0]}}e.listOfAcountsAvailable=r,e.currentAccount=r[o()],e.callback(),webkit.messageHandlers.accountsAvailableCallBack.postMessage(JSON.stringify(r))}},a=function(t,a){var n=t.parentNode.parentNode;if(n){var r=document.createElement("div");r.setAttribute("id",e.customBadgeDefaultID+a),r.setAttribute("class","sekit-unread sekit-hidden"),n.appendChild(r)}},n=function(){for(var t,a=0;a<e.DOMClasses.classForAccountsAvailable.length;a++)if(t=document.getElementsByClassName(e.DOMClasses.classForAccountsAvailable[a]),r(t))return t},r=function(t){if(t&&0!=t.length){for(var a=0;a<t.length;a++)for(var n=0;n<e.DOMClasses.classForAccountsAvailableEmail.length;n++){var r=t[a].getElementsByClassName(e.DOMClasses.classForAccountsAvailableEmail[n]);if(r&&0!=r.length&&"DIV"==r[0].tagName)return!0}return!1}return!1},i=function(t){for(var a,n=0;n<e.DOMClasses.classForAccountsAvailableEmail.length;n++)if(a=t.getElementsByClassName(e.DOMClasses.classForAccountsAvailableEmail[n])[0],a&&"DIV"==a.tagName&&0!=a.innerHTML.length)return a};e.updateUnreadForAccount=function(t,a){var n=document.getElementById(e.customBadgeDefaultID+a);n&&(0!=t?(n.textContent=t,n.setAttribute("class","sekit-unread")):(n.textContent="",n.setAttribute("class","sekit-unread sekit-hidden")))};var o=function(){var e=window.location.pathname,t=isNaN(e[3])?"0":e[3];return 1*t};return e}function madbirdiesBigCompo(){"use strict";var e={};e.userDefaults=new madbirdiesUserDefaults,e.toogleBigCompo=function(){var a=document.getElementById("madbirdiesBigEmailCompo");a?(e.userDefaults.saveUserDefaults("bigCompo",0),webkit.messageHandlers.bigCompoCallBack.postMessage("0"),a.parentElement.removeChild(a)):(e.userDefaults.saveUserDefaults("bigCompo",1),t(),webkit.messageHandlers.bigCompoCallBack.postMessage("1"))},e.setBigCompoState=function(a){var n=document.getElementById("madbirdiesBigEmailCompo");e.userDefaults.saveUserDefaults("bigCompo",a),n?0==a&&(webkit.messageHandlers.bigCompoCallBack.postMessage("0"),n.parentElement.removeChild(n)):1==a&&(t(),webkit.messageHandlers.bigCompoCallBack.postMessage("1"))};var t=function(){var e=document.createElement("style");e.setAttribute("id","madbirdiesBigEmailCompo"),e.textContent=".ae{height: 100vw!important;}.k{width: calc(100vw - 200px)!important;}",document.documentElement.appendChild(e)},a=function(){if(webkit.messageHandlers.bigCompoCallBack){var t=e.userDefaults.getUserDefaults("bigCompo");t||(t=0),e.setBigCompoState(t)}};return a(),e}function madbirdiesSidebar(){"use strict";var e={};e.toogleMiniSidebar=function(){var e=document.getElementById("madbirdiesminiSideBarStyle");e?(webkit.messageHandlers.minibarCallBack.postMessage("0"),e.parentElement.removeChild(e)):(t(),webkit.messageHandlers.minibarCallBack.postMessage("1"))},e.setMiniSidebarState=function(e){var a=document.getElementById("madbirdiesminiSideBarStyle");a?0==e&&(webkit.messageHandlers.minibarCallBack.postMessage("0"),a.parentElement.removeChild(a)):1==e&&(t(),webkit.messageHandlers.minibarCallBack.postMessage("1"))};var t=function(){var e=document.createElement("style");e.setAttribute("id","madbirdiesminiSideBarStyle"),e.textContent=".fv.tTwEpb,.lQ{max-width:60px!important;}.lQ>ul>li{text-overflow:clip!important;}.M .bz{margin-left: 82px!important;}.M .a1{margin-left: 82px!important;}.M :not(.a1)>*>.dw{padding-left: 82px!important;}li.bR{display: none;}.ig{text-overflow: inherit;}",document.documentElement.appendChild(e)};return e}function madbirdiesFontSize(){"use strict";var e={};e.userDefaults=new madbirdiesUserDefaults,e.lastFontsize=0,e.setFontSizeFromApp=function(t){e.userDefaults.saveUserDefaults("fontSize",t),e.lastFontsize!=t&&(e.lastFontsize=t,e.setFontSize(t))},e.setFontSize=function(e){var t=document.getElementById("madbirdies-fontmanagement-css");if(t){var a="";0==e?a="@media (min-width:1600px) {body{font-size:105%!important;} .cM{width:auto!important;} .n7{font-size: 100% !important;} .Go{line-height:2.4!important;} .hY,.g6,.lo,.bg{padding-top:10px!important} .pF.s2{line-height:1.0!important;}.iO>.dm{height: 25px!important;}}":1==e?a="":2==e?a="body{font-size:105%!important;} .cM{width:auto!important;} .n7{font-size: 100% !important;} .Go{line-height:2.4!important;} .hY,.g6,.lo,.bg{padding-top:10px!important} .pF.s2{line-height:1.0!important;} .iO>.dm{height: 25px!important;}.iG{margin-top:6px!important;}":3==e&&(a="body{font-size:110%!important;} .cM{width:auto!important;} .n7{font-size: 100% !important;} .Go{line-height:2.4!important;} .hY,.g6,.lo,.bg{padding-top:10px!important} .pF.s2{line-height:1.0!important;} .iO>.dm{height: 25px!important;}.iG{margin-top:7px!important;}"),
t.textContent=a}},e.loadPreferences=function(){var t=e.userDefaults.getUserDefaults("fontSize");t||(t=0),e.lastFontsize=t,e.setFontSize(t)};var t=function(){var e=document.createElement("style");e.setAttribute("id","madbirdies-fontmanagement-css");var t="@media (min-width:1600px) {body{font-size:110%!important;} .cM{width:auto!important;} .n7{font-size: 100% !important;} .Go{line-height:2.4!important;} .hY,.g6,.lo,.bg{padding-top:10px!important} .pF.s2{line-height:1.0!important;}}";e.textContent=t,document.documentElement.appendChild(e)};return t(),e}function madbirdiesShowHideAttachement(){"use strict";var e={};e.userDefaults=new madbirdiesUserDefaults,e.lastHideAttachement=0,e.showHideAttachementFromApp=function(t){e.userDefaults.saveUserDefaults("hideAttachement",t),e.lastHideAttachement!=t&&(e.lastHideAttachement=t,e.showHideAttachement(t))},e.showHideAttachement=function(e){var a=document.getElementById("madbirdiesshowHideAttachementStyle");a?0==e&&(webkit.messageHandlers.showHideAttachmentCallBack.postMessage("0"),a.parentElement.removeChild(a)):1==e&&(t(),webkit.messageHandlers.showHideAttachmentCallBack.postMessage("1"))};var t=function(){var e=document.createElement("style");e.setAttribute("id","madbirdiesshowHideAttachementStyle"),e.textContent='.hU{display:none!important} .fK{width: 20px !important;padding-bottom: 0 !important;padding-top: 0 !important;margin-top: -22px !important;margin-left:6px!important;background-image: url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" version="1.1" x="0px" y="0px" width="10px" height="12px" viewBox="0 0 512 1024"><path d="M442.182,232.728V768c0,102.863-83.318,186.182-186.182,186.182S69.818,870.863,69.818,768V186.182 c0-64.228,52.136-116.363,116.363-116.363s116.364,52.136,116.364,116.363v488.728c0,25.591-20.728,46.546-46.546,46.546 c-25.829,0-46.546-20.955-46.546-46.546V232.728h-69.817v442.182c0,64.228,52.136,116.363,116.363,116.363 s116.363-52.136,116.363-116.363V186.182C372.363,83.318,289.046,0,186.182,0C83.318,0,0,83.318,0,186.182V768 c0,141.5,114.738,256,256,256c141.272,0,256-114.5,256-256V232.728H442.182z" fill="#777"/></svg>\')!important;background-repeat: no-repeat !important;}',document.documentElement.appendChild(e)};return e.loadPreferences=function(){var t=e.userDefaults.getUserDefaults("hideAttachement");t||(t=0),e.lastHideAttachement=t,e.showHideAttachement(t)},e}function madbirdiesLinkClickFixer(){"use strict";var e={},t=function(){document.documentElement.addEventListener("click",function(e){a(e)},!0)},a=function(e){var t=e.target||e.srcElement,a=t.closest("a");if(a)n("A",a.getAttribute("href"));else{for(var r,i=0;!r;)r=t.getAttribute("jsaction"),t=t.parentElement,i++,i>6&&(r="none"),t||(r="none");r.indexOf("pre_toggle_item")>-1&&setTimeout(webkit.messageHandlers.forceUnReadCallBackHandler.postMessage(""),5e3)}},n=function(e,t){try{var a={};a.action="click",a.linktype=e,a.href=t,webkit.messageHandlers.clickAnchorCallBackHandler.postMessage(JSON.stringify(a))}catch(n){console.log("The native context does not exist yet")}};return t(),e}function madbirdiesNewEmailComposerDetector(){"use strict";var e={};e.jstcacheIteration=0,e.jstcacheForNewEmailWindow=[],e.callBackAdded,e.callBackRemoved,e.DOMClasses=new madbirdiesInboxDOMElements,e.hasbeenalreadyremovedonce=!1;var t=function(){var t=window.MutationObserver||window.WebKitMutationObserver,r=new t(function(t){t.forEach(function(t){t.addedNodes.length>0?a(t.addedNodes[0])&&e.jstcacheIteration>0&&(e.jstcacheIteration=0,e.hasbeenalreadyremovedonce=!0,n(t.addedNodes[0])):t.removedNodes.length>0&&(e.jstcacheIteration++,e.hasbeenalreadyremovedonce&&(e.hasbeenalreadyremovedonce=!1,e.callBackRemoved()))})}),i=document.getElementById(e.DOMClasses.classForNewEmailDivContainer);r.observe(i,{childList:!0})},a=function(t){var a=t.getElementsByClassName(e.DOMClasses.classForNewMessagePanel);if(a.length>0){var n=a[0].getElementsByTagName("iframe");if(0==n.length)return!0}return!1},n=function(t){var a=r();a&&e.callBackAdded(t)},r=function(){var t=document.getElementById(e.DOMClasses.classForNewEmailDivContainer),a=t.getElementsByClassName(e.DOMClasses.classForNewMessagePanel);return a?0==a.length?null:a:null},i=function(){var a=document.getElementById(e.DOMClasses.classForNewEmailDivContainer);return a?void t():void setTimeout(i,100)};return e.initWithCallbacks=function(t,a){e.callBackAdded=t,e.callBackRemoved=a,i()},e}function madbirdiesFullWindowEmail(){"use strict";var e={};e.DOMClasses=new madbirdiesInboxDOMElements,e.titleForNewWindowMessage="",e.isNewEmailReady=!1;var t=function(){var n=document.getElementsByClassName(e.DOMClasses.classForBtnNewMessage)[0];return n?void a():void setTimeout(t,100)},a=function(){var t=document.getElementById(e.DOMClasses.classForNewEmailDivContainer);return t?void n():void setTimeout(a,100)},n=function(){if(!e.isNewEmailReady){var t=document.getElementsByClassName(e.DOMClasses.classForBtnNewMessage)[0];t.click(),setTimeout(n,1e3)}},r=function(){var e=document.createElement("div");e.setAttribute("id","madbirdiescovernewemailarea");var t="position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background-color: rgba(255,255,255,1); z-index:9;";e.setAttribute("style",t),document.documentElement.appendChild(e);var a=document.createElement("style");a.setAttribute("id","madbirdiesFullWindowEmailCompo"),a.textContent="body{overflow:hidden!important}#L2fznf{visibility:hidden;}.lK{visibility:visible;}.ae{min-height: calc(100vh - 100px)!important;max-height: calc(100vh - 100px)!important;height:calc(100vh - 100px) !important;}.mS{margin:0!important;}.k{right: -102px!important;min-width:100vw;min-height:100vh;z-index:20;}.mS .k{right:0px!important;}.Ut6z6b,.jB,img.tb,.rs.k2{display:none!important}.pr>.IB{display:none!important}#madbirdiestitlebar{line-height: 0;font-size: 13px;font-weight:500;margin-top:8px;text-align: center;-webkit-user-select:none;cursor:default!important} .pr{-webkit-user-select: none;}.nPQzwd{display:none!important}"+i(),document.documentElement.appendChild(a)},i=function(){return""},o=function(){if(0!=e.titleForNewWindowMessage.length){var t=document.getElementsByClassName("pr")[0];if(t){var a=document.createElement("p");a.setAttribute("id","madbirdiestitlebar"),a.textContent=e.titleForNewWindowMessage,t.appendChild(a),t.parentElement.parentElement.setAttribute("style","z-index:19999;"),e.titleForNewWindowMessage=""}}},s=function(){var e=document.createElement("style");e.setAttribute("id","madbirdiesManagewaitingbox"),e.textContent="#Hg{display:none!important} #madbirdieswaiting{bottom: calc(50% + 15px);left: calc(50% - 50px);position: fixed;z-index: 50;font-family:helvetica;}",document.documentElement.appendChild(e);var t=document.createElement("div");t.setAttribute("id","madbirdieswaiting"),t.innerHTML='<div id=“madbirdieswaiting”><div class="sf"><span class="loadingSpinner"></span><span>Loading...</span></div></div>',document.documentElement.appendChild(t)},l=function(){var e=document.getElementById("madbirdieswaiting");e.parentNode.removeChild(e);var t=document.getElementById("madbirdiesManagewaitingbox");t.parentNode.removeChild(t)};return e.prepareForWindowWithTitle=function(a){e.titleForNewWindowMessage=a,s(),r(),t()},e.newEmailIsReady=function(t){e.isNewEmailReady=!0,l(),o(),t()},e}function madbirdiesNewEmailWithAttachement(){"use strict";var e={};e.DOMClasses=new madbirdiesInboxDOMElements,e.newMessagePanelsBefore,e.openWithAttachement=function(){e.newMessagePanelsBefore=document.getElementsByClassName(e.DOMClasses.classForNewMessagePanel);var a=document.getElementsByClassName(e.DOMClasses.classForBtnNewMessage)[0];a.click(),setTimeout(function(){t()},1e3)};var t=function(){var t=a();if(t)try{t.getElementsByClassName(e.DOMClasses.classForBody)[0].childNodes[1].focus(),webkit.messageHandlers.pasteAttachementInNewEmail.postMessage("")}catch(n){console.log("error: "+n)}};e.urlSchemeHandler=function(t){var a=decodeURIComponent(t),n=madbirdiesmailtoParse.parse(a,!0),i={};i.to=n.to,i.subject=n.attributeKey.body,i.body=n.attributeKey.subject,e.newMessagePanelsBefore=document.getElementsByClassName(e.DOMClasses.classForNewMessagePanel);var o=document.getElementsByClassName(e.DOMClasses.classForBtnNewMessage)[0];o.click(),setTimeout(function(){r(i)},1e3)};var a=function(){var t,a=document.getElementsByClassName(e.DOMClasses.classForNewMessagePanel),r=[],i=[];try{for(var o,s=0;o=a[s];++s)r.push(o);for(var l,c=0;l=e.newMessagePanelsBefore[c];++c)i.push(l)}catch(d){console.log("error: "+d)}for(var s=0;s<r.length;s++)-1==i.indexOf(r[s])&&(t=r[s]);return t||(t=n(a)),t},n=function(e){try{for(var t=0;t<e.length;t++){var a=e[t].getElementsByTagName("input");if(a.length>0)return e[t]}}catch(n){console.log("error: "+n)}return nil},r=function(t){var n=a();if(n){for(var r=n.getElementsByTagName("input"),i=[],o=[],s=0;s<r.length;s++)"To"==r[s].getAttribute("aria-label")?i.push(r[s]):"Subject"==r[s].getAttribute("title")&&o.push(r[s]);try{i[0]&&t.to&&(i[0].focus(),i[0].value=t.to+""),o[0]&&(o[0].focus(),t.subject&&(o[0].value=t.subject+"")),n.getElementsByClassName(e.DOMClasses.classForBody)[0].childNodes[1].focus()}catch(l){}}};return e}function madbirdiesBasicCSS(){"use strict";var e={};e.DOMClasses=new madbirdiesInboxDOMElements;var t=function(){a(),n()},a=function(){var e=document.createElement("style"),t=".one-google > .logo-strip,.one-google > .tagline,.google-footer-bar,.zOB73,#maia-footer{display:none!important;} .banner H1{display:none!important;}",a=".k2{visibility:hidden!important;}.gb_8a{visibility:visible!important;}.gb_bb{padding-right:15px!important;}.lE{margin-left:-8px!important;}",n=".hn{padding-top:8px;} .hn:before{top:0px!important;}",r="div + .k3{min-width:70px!important;}",i=".XvyNac,#content{padding-top:15px;} .j3Xhx{top:20px!important} .Pzc{display:none!important;} .gb_gbsh{top:-70px!important}",o="@media (max-width:700px) {.fv.tTwEpb,.lQ{max-width:60px!important;}.lQ>ul>li{text-overflow:clip!important;padding-top:8px!important;line-height:26px!important;}.M .bz{margin-left: 96px!important;}.M .a1{margin-left: 82px!important;}.M :not(.a1)>*>.dw{padding-left: 82px!important;}li.bR{display: none;}.ig{text-overflow: inherit;} .cQ,.cN{display: block!important;padding-left:14px;} .lQ .sM,.lQ .op{opacity:0!important;}}",s=".sekit-unread{position:absolute;top:0;right:0;margin-right:10px;margin-top:10px;font-weight:600;color:#fff;min-width:12px;width:auto;padding-left:6px;padding-right:6px;height:24px;background-color:rgba(250,0,0,0.9);border-radius:24px;text-align:center;line-height:2} .sekit-hidden{display:none!important;}",l="nav, .lQ, .section-header, .cM.bz, #btariaid-51, .m8.f, .nPQzwd,.an.b9{-webkit-user-select: none;} .scroll-list-item-open,#settings-signature-text,.lw{-webkit-user-select: text;} :focus{outline: none;}";e.textContent=".oin9Fc{padding-top:0!important;padding-bottom:0!important;}.cM{min-width:250px!important;}.cM.bz{margin-left: auto;margin-right: auto;max-width: 94vw;}  .M .bz{margin-left: 252px !important;margin-right: 24px!important;}.X{margin-left:21px; margin-right:20px;} .gb_9a{padding-right:15px!important}"+t+a+n+i+o+s+l+r,document.documentElement.appendChild(e)},n=function(){var t=document.getElementsByClassName(e.DOMClasses.classForGplusBehaviorOutter)[0];return t?void r():void setTimeout(n,300)},r=function(){var t=window.MutationObserver||window.WebKitMutationObserver,a=new t(function(t){t.forEach(function(t){if("aria-expanded"==t.attributeName){var a=t.target.getAttribute("aria-expanded"),n=document.getElementsByClassName(e.DOMClasses.classForGplusBehaviorInner)[0];"false"==a?n.setAttribute("style","display:none!important;"):n.setAttribute("style","")}})}),n=document.getElementsByClassName(e.DOMClasses.classForGplusBehaviorOutter)[0];n&&a.observe(n,{attributes:!0})};return t(),e}function madbirdiesGene(){"use strict";var e={};e.isNewWindowMessageMode=!1,e.madbirdiesExtra=new madbirdiesExtra,e.focusfixer=new madbirdiesFocusFixer,e.madbirdiesTheme=new madbirdiesThemes,e.newEmailsDetector=new madbirdiesdetectNewEmails,e.actions=new madbirdiesInboxActions,e.madbirdiesAccounts=new madbirdiesAccounts,e.sidebar=new madbirdiesSidebar,e.bigCompo=new madbirdiesBigCompo,e.showHideAttach=new madbirdiesShowHideAttachement,e.fontSize=new madbirdiesFontSize,e.linkClickFixer=new madbirdiesLinkClickFixer,e.composerDetector=new madbirdiesNewEmailComposerDetector,e.fullWindowEmail=new madbirdiesFullWindowEmail,e.newEmailWithAttachement=new madbirdiesNewEmailWithAttachement,e.basicCSS=new madbirdiesBasicCSS,e.init=function(){e.madbirdiesExtra.setSelectedAccount(r()),e.composerDetector.initWithCallbacks(i,o),a(),window.onload=t};var t=function(){e.actions.createElementToReceiveActionFromMenu(),e.accountsAvailable(),n(),window.print=function(){webkit.messageHandlers.print.postMessage("")}},a=function(){console.log("document.cookie: "+document.cookie),e.madbirdiesTheme.loadPreferences(),e.fontSize.loadPreferences(),e.showHideAttach.loadPreferences()},n=function(){var e={};e.userID=r(),webkit.messageHandlers.userForUnReadCallBackHandler.postMessage(JSON.stringify(e))},r=function(){var e=window.location.pathname,t=isNaN(e[3])?"0":e[3];return 1*t};e.actionSend=function(){e.actions.actionSend()},e.actionReply=function(){e.actions.actionReply()},e.actionForward=function(){e.actions.actionForward()},e.actionArchive=function(){e.actions.actionArchive()},e.actionSnooze=function(){e.actions.actionSnooze()},e.actionPin=function(){e.actions.actionPin()},e.actionMovetoTrash=function(){e.actions.actionMovetoTrash()},e.openInbox=function(){e.actions.openInbox()},e.openSnoozed=function(){e.actions.openSnoozed()},e.openDone=function(){e.actions.openDone()},e.openReminders=function(){e.actions.openReminders()},e.openDraft=function(){e.actions.openDraft()},e.openSent=function(){e.actions.openSent()},e.openSettings=function(){e.actions.openSettings()},e.openContact=function(){e.actions.openContact()},e.openHideSidebar=function(){e.actions.openHideSidebar()},e.openSearch=function(){e.actions.openSearch()},e.openNewMessage=function(){e.actions.openNewMessage()},e.openHelp=function(){e.actions.openHelp()},e.addAccount=function(){e.actions.addAccount()},e.toogleMiniSidebar=function(){e.sidebar.toogleMiniSidebar()},e.setMiniSidebarState=function(t){e.sidebar.setMiniSidebarState(t)},e.toogleBigCompo=function(){e.bigCompo.toogleBigCompo()},e.setBigCompoState=function(t){e.bigCompo.setBigCompoState(t)},e.showHideAttachementFromApp=function(t){e.showHideAttach.showHideAttachementFromApp(t)},e.showHideAttachement=function(t){e.showHideAttach.showHideAttachement(t)},e.setFontSizeFromApp=function(t){e.fontSize.setFontSizeFromApp(t)},e.setFontSize=function(t){e.fontSize.setFontSize(t)},e.setAvailableSignatures=function(t){e.madbirdiesExtra.setCurrentSignatures(t)},e.setAvailableTemplates=function(t){e.madbirdiesExtra.setCurrentTemplates(t)},e.changeTheme=function(t){e.madbirdiesTheme.selectTheme(t)},e.setIsIconSidebarMonoChromatic=function(t){e.madbirdiesTheme.setIsIconSidebarMonoChromatic(t)},e.setShowExtrabar=function(t){e.madbirdiesExtra.setIsExtraActivated(t)},e.accountsAvailable=function(){e.madbirdiesAccounts.setCallBack(e.accountsCallback),e.madbirdiesAccounts.accountsAvailable()},e.updateUnreadForAccount=function(t,a){e.madbirdiesAccounts.updateUnreadForAccount(t,a)},e.accountsCallback=function(){e.madbirdiesExtra.setAccountsAvailables(e.madbirdiesAccounts.listOfAcountsAvailable);try{var t=e.madbirdiesAccounts.currentAccount;t&&webkit.messageHandlers.requestSignaturesFor.postMessage(t),webkit.messageHandlers.requestTemplates.postMessage("")}catch(a){}};var i=function(t){return e.isNewWindowMessageMode?void e.fullWindowEmail.newEmailIsReady(function(){s(t)}):void s(t)},o=function(t){e.isNewWindowMessageMode&&webkit.messageHandlers.windowShouldCloseCallBack.postMessage("")},s=function(t){e.madbirdiesExtra.isExtraActivated()&&e.madbirdiesExtra.addNewExtraForAccount(t)};return e.prepareNewMessageFullWindowStyle=function(t){e.isNewWindowMessageMode=!0,e.fullWindowEmail.prepareForWindowWithTitle(t)},e.openWithAttachement=function(){e.newEmailWithAttachement.openWithAttachement()},e.urlSchemeHandler=function(t){e.newEmailWithAttachement.urlSchemeHandler(t)},e.updateFinchCookiesAfterReset=function(t){e.changeTheme(t.theme),e.setIsIconSidebarMonoChromatic(t.icongrey),e.setShowExtrabar(t.showextrabar),e.setFontSizeFromApp(t.fontsize),e.showHideAttachementFromApp(t.showhideattach)},e.init(),e}madbirdiesGeneInstance=new madbirdiesGene;
